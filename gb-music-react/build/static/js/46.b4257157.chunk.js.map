{"version":3,"sources":["views/Login/store/actionCreators.tsx","network/user/index.ts","network/login/index.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","network/message/index.ts","network/channel/index.ts","assets/img/channel/radio.png","views/manage/innovate/pages/publish/childCpn/radio/style.tsx","views/manage/innovate/pages/publish/childCpn/radio/index.tsx","network/request.tsx"],"names":["changeUserMsg","res","type","userMsg","changeLoginType","loginType","changeUserDetailAction","dispatch","getUserDetail","then","data","love","follow","window","localStorage","setItem","JSON","stringify","userDetail","loginAction","userName","password","props","a","login","token","updateUserExpire","code","changeShow","auth","vip","history","push","pathname","console","log","message","warning","content","style","fontSize","marginTop","logoutAction","clear","userId","avatarUrl","createTime","updateTime","manage","subscriber","thumb","songId","setUserFavorite","id","request","url","method","headers","authorization","store","getState","getIn","getUserFavorite","offset","limit","params","cancelFavorite","getUserSub","uploadAvatar","formData","getOtherUserDetail","getUserChannel","getUserSubPlaylist","getUserMomentData","getUserAllMoment","getSimpleUserInfo","register","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","publishMessage","uri","getAllMsg","readMessage","ids","getVideoMsg","getCommentMsg","getAlbumMsg","getPlaylistMsg","getChannelMsg","deleteMsg","readSingleMsg","getAllChannel","getContent","getChannelDetail","addContent","cId","name","description","uploadContentCover","getUserChannelCount","addProgram","addProgramSource","addProgramPlayCount","getHotChannel","getHotChannelContent","getProgramDetail","getProgramURL","getChannelSubUser","getUserChannelPlaylist","RadioWrapper","styled","div","Radio","useState","channel","setChannel","currentIndex","setCurrentIndex","isShow","setIsShow","setName","desc","setDesc","setCid","prevImgURL","setPrevImg","imgFile","setImgFile","isShowPrev","setIsShowPrev","useDispatch","useEffect","className","src","radioImg","alt","onClick","e","rows","cols","onChange","currentTarget","nameChange","descChange","files","URL","createObjectURL","inpChange","length","map","item","index","liClick","trim","FormData","append","undefined","memo","config","instance","axios","create","baseURL","HOST_NAME","timeout","interceptors","use","err","response","status","createBrowserHistory"],"mappings":"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","file":"static/js/46.b4257157.chunk.js","sourcesContent":["import { message } from 'antd';\r\nimport { login } from '../../../network/login';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport { getUserDetail, updateUserExpire } from '../../../network/user';\r\nimport { changeShow } from '../../../components/common/toast/store/actionCreators';\r\nimport { ILoginUserAction } from './type';\r\nimport { IUserDetail, IUserMsg } from '../../../constant/store/login';\r\n\r\nexport function changeUserMsg(res: IUserMsg): ILoginUserAction {\r\n  return {\r\n    type: 'changeUserMsg',\r\n    userMsg: res\r\n  };\r\n}\r\nfunction changeLoginType(res: number): ILoginUserAction {\r\n  return {\r\n    type: 'changeLoginType',\r\n    loginType: res\r\n  };\r\n}\r\nfunction changeUserDetail(res: IUserDetail): ILoginUserAction {\r\n  return {\r\n    type: 'changeUserDetail',\r\n    userDetail: res\r\n  };\r\n}\r\nfunction deleteUserDetail(): ILoginUserAction {\r\n  return {\r\n    type: 'changeUserDetail',\r\n    userDetail: {\r\n      userId: '',\r\n      userName: '',\r\n      avatarUrl: '',\r\n      subscriber: [],\r\n      thumb: [],\r\n      follow: [{ userId: '' }],\r\n      love: [{ songId: '' }]\r\n    }\r\n  };\r\n}\r\nexport function changeUserDetailAction() {\r\n  return (dispatch: any) => {\r\n    getUserDetail().then((data: any) => {\r\n      const { love, follow } = data;\r\n      if (!love) {\r\n        data.love = [];\r\n      }\r\n      if (!follow) {\r\n        data.follow = [];\r\n      }\r\n      window.localStorage.setItem('userDetail', JSON.stringify(data));\r\n      dispatch(changeUserDetail(data));\r\n    });\r\n  };\r\n}\r\n\r\nexport function loginAction(userName: string, password: string, props: RouteComponentProps) {\r\n  return async (dispatch: any) => {\r\n    try {\r\n      const data: any = await login(userName, password);\r\n      if (data) {\r\n        const { token } = data;\r\n        const res: any = await updateUserExpire(token);\r\n        if (res.code * 1 === 200) {\r\n          dispatch(changeShow('您的VIP已经过期，开通VIP后畅想', 3500));\r\n          data.auth = 0;\r\n          delete data.vip;\r\n        }\r\n        await dispatch(changeUserMsg(data));\r\n        await dispatch(changeLoginType(1));\r\n        window.localStorage.setItem('userMsg', JSON.stringify(data));\r\n        window.localStorage.setItem('loginType', '1');\r\n        await dispatch(changeUserDetailAction());\r\n        props.history.push({\r\n          pathname: '/Home'\r\n        });\r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n      message.warning({\r\n        content: '用户名或者密码错误',\r\n        style: {\r\n          fontSize: '20px',\r\n          marginTop: '5vh'\r\n        }\r\n      });\r\n    }\r\n  };\r\n}\r\n//退出登录\r\nexport function logoutAction() {\r\n  return (dispatch: any) => {\r\n    window.localStorage.clear();\r\n    dispatch(changeLoginType(0));\r\n    dispatch(\r\n      changeUserMsg({\r\n        token: '',\r\n        userName: '',\r\n        userId: '',\r\n        avatarUrl: '',\r\n        createTime: '',\r\n        updateTime: '',\r\n        manage: -1,\r\n        auth: -1\r\n      })\r\n    );\r\n    dispatch(deleteUserDetail());\r\n  };\r\n}\r\n","import request from '../request';\r\nimport store from '../../store/index';\r\n//用户喜欢歌曲\r\nexport function setUserFavorite(id: string) {\r\n  return request({\r\n    url: '/user/favorite',\r\n    method: 'post',\r\n    data: {\r\n      id\r\n    },\r\n    headers: {\r\n      // @ts-ignore\r\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\r\n    }\r\n  });\r\n}\r\n//获取用户喜欢歌曲\r\nexport function getUserFavorite(offset: number, limit: number) {\r\n  return request({\r\n    url: '/user/favorite',\r\n    params: {\r\n      offset,\r\n      limit\r\n    },\r\n    headers: {\r\n      // @ts-ignore\r\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\r\n    }\r\n  });\r\n}\r\n//取消用户喜欢\r\nexport function cancelFavorite(songId: string) {\r\n  return request({\r\n    url: '/user/favorite/cancel',\r\n    method: 'post',\r\n    data: {\r\n      songId: songId\r\n    },\r\n    headers: {\r\n      // @ts-ignore\r\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\r\n    }\r\n  });\r\n}\r\n//获取用户收藏\r\nexport function getUserSub(url: string, offset: number, limit: number) {\r\n  return request({\r\n    url: `/sub/user/${url}`,\r\n    params: {\r\n      offset,\r\n      limit\r\n    },\r\n    headers: {\r\n      // @ts-ignore\r\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\r\n    }\r\n  });\r\n}\r\n//获取当前登录用户详情\r\nexport function getUserDetail() {\r\n  return request({\r\n    url: '/user/detail',\r\n    headers: {\r\n      // @ts-ignore\r\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\r\n    }\r\n  });\r\n}\r\n//上传用户头像\r\nexport function uploadAvatar(formData: FormData) {\r\n  return request({\r\n    url: '/user/upload/avatar',\r\n    method: 'post',\r\n    headers: {\r\n      // @ts-ignore\r\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token,\r\n      'Content-Type': 'multipart/form-data'\r\n    },\r\n    data: formData\r\n  });\r\n}\r\n//获取其它用户详情\r\nexport function getOtherUserDetail<T>(userId: string) {\r\n  return request<T>({\r\n    url: '/user/other/detail',\r\n    method: 'post',\r\n    data: {\r\n      userId\r\n    },\r\n    headers: {\r\n      // @ts-ignore\r\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\r\n    }\r\n  });\r\n}\r\n\r\n//获取用户创建的电台\r\nexport function getUserChannel(userId: string, offset: number, limit: number) {\r\n  return request({\r\n    url: '/user/channel',\r\n    method: 'post',\r\n    data: {\r\n      userId,\r\n      offset,\r\n      limit\r\n    },\r\n    headers: {\r\n      // @ts-ignore\r\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\r\n    }\r\n  });\r\n}\r\n\r\n//获取用户收藏的歌单\r\nexport function getUserSubPlaylist<T>(userId: string, offset: number, limit: number) {\r\n  return request<T>({\r\n    url: '/sub/user/playlist',\r\n    method: 'post',\r\n    params: {\r\n      offset,\r\n      limit\r\n    },\r\n    data: {\r\n      userId\r\n    }\r\n  });\r\n}\r\n//用户VIP是否·过期\r\nexport function updateUserExpire(token: string) {\r\n  return request({\r\n    url: '/user/expire',\r\n    method: 'post',\r\n    headers: {\r\n      // @ts-ignore\r\n      authorization: token\r\n    }\r\n  });\r\n}\r\n//获取用户动态数据\r\nexport function getUserMomentData() {\r\n  return request({\r\n    url: '/user/data/moment',\r\n    method: 'post',\r\n    headers: {\r\n      // @ts-ignore\r\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\r\n    }\r\n  });\r\n}\r\n//获取用户全部动态\r\nexport function getUserAllMoment(offset: string, limit: string) {\r\n  return request({\r\n    url: '/user/moment',\r\n    method: 'post',\r\n    data: {\r\n      offset,\r\n      limit\r\n    },\r\n    headers: {\r\n      // @ts-ignore\r\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\r\n    }\r\n  });\r\n}\r\n//获取用户简略信息\r\nexport function getSimpleUserInfo<T>(userId: string) {\r\n  return request<T>({\r\n    url: '/user/simple',\r\n    params: {\r\n      userId\r\n    },\r\n    headers: {\r\n      // @ts-ignore\r\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\r\n    }\r\n  });\r\n}\r\n","import request from '../request';\r\n//登录\r\nexport function login(userName: string, password: string) {\r\n  return request({\r\n    url: '/login',\r\n    method: 'post',\r\n    data: {\r\n      userName,\r\n      password\r\n    }\r\n  });\r\n}\r\n//注册\r\nexport function register(userName: string, password: string) {\r\n  return request({\r\n    url: '/register',\r\n    method: 'post',\r\n    data: {\r\n      userName,\r\n      password\r\n    }\r\n  });\r\n}\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import request from '../request';\r\nimport store from '../../store';\r\n//创建消息\r\nexport function publishMessage(uri: string, content: string, key: string, id: string) {\r\n  return request({\r\n    url: `/message/${uri}`,\r\n    method: 'post',\r\n    data: {\r\n      content,\r\n      [key]: id\r\n    },\r\n    headers: {\r\n      // @ts-ignore\r\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\r\n    }\r\n  });\r\n}\r\n//歌手发布专辑\r\nexport function publishAlbum(arId: string, content: string, alId: string) {\r\n  return request({\r\n    url: '/message/album',\r\n    method: 'post',\r\n    headers: {\r\n      // @ts-ignore\r\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\r\n    },\r\n    data: {\r\n      arId,\r\n      content,\r\n      alId\r\n    }\r\n  });\r\n}\r\n//获取所有通知\r\nexport function getAllMsg() {\r\n  return request({\r\n    url: '/message',\r\n    headers: {\r\n      // @ts-ignore\r\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\r\n    }\r\n  });\r\n}\r\n//一键已读\r\nexport function readMessage(ids: string[]) {\r\n  return request({\r\n    url: '/message/read',\r\n    method: 'post',\r\n    data: {\r\n      id: ids\r\n    },\r\n    headers: {\r\n      // @ts-ignore\r\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\r\n    }\r\n  });\r\n}\r\n//获取所有视频通知\r\nexport function getVideoMsg(offset: string, limit: string) {\r\n  return request({\r\n    url: '/message/detail/video',\r\n    method: 'post',\r\n    data: {\r\n      offset,\r\n      limit\r\n    },\r\n    headers: {\r\n      // @ts-ignore\r\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\r\n    }\r\n  });\r\n}\r\n//获取所有评论通知\r\nexport function getCommentMsg(offset: string, limit: string) {\r\n  return request({\r\n    url: '/message/detail/comment',\r\n    method: 'post',\r\n    data: {\r\n      offset,\r\n      limit\r\n    },\r\n    headers: {\r\n      // @ts-ignore\r\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\r\n    }\r\n  });\r\n}\r\n//获取所有发布专辑通知\r\nexport function getAlbumMsg<T>(offset: string, limit: string) {\r\n  return request<T>({\r\n    url: '/message/detail/album',\r\n    method: 'post',\r\n    data: {\r\n      offset,\r\n      limit\r\n    },\r\n    headers: {\r\n      // @ts-ignore\r\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\r\n    }\r\n  });\r\n}\r\n//获取所有创建通知\r\nexport function getPlaylistMsg(offset: string, limit: string) {\r\n  return request({\r\n    url: '/message/detail/playlist',\r\n    method: 'post',\r\n    data: {\r\n      offset,\r\n      limit\r\n    },\r\n    headers: {\r\n      // @ts-ignore\r\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\r\n    }\r\n  });\r\n}\r\n//获取所有声音\r\nexport function getChannelMsg(offset: string, limit: string) {\r\n  return request({\r\n    url: '/message/detail/channel',\r\n    method: 'post',\r\n    data: {\r\n      offset,\r\n      limit\r\n    },\r\n    headers: {\r\n      // @ts-ignore\r\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\r\n    }\r\n  });\r\n}\r\n//删除消息通知\r\nexport function deleteMsg(id: string) {\r\n  return request({\r\n    url: '/message/delete',\r\n    method: 'post',\r\n    data: {\r\n      id\r\n    },\r\n    headers: {\r\n      // @ts-ignore\r\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\r\n    }\r\n  });\r\n}\r\n//已读消息\r\nexport function readSingleMsg(id: string) {\r\n  return request({\r\n    url: '/message/read/single',\r\n    method: 'post',\r\n    data: {\r\n      id\r\n    },\r\n    headers: {\r\n      // @ts-ignore\r\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\r\n    }\r\n  });\r\n}\r\n","import request from '../request';\r\nimport store from '../../store';\r\n//获取所有频道\r\nexport function getAllChannel() {\r\n  return request({\r\n    url: '/channel/all'\r\n  });\r\n}\r\n//获取频道下内容\r\nexport function getContent(id: string, offset: number, limit: number) {\r\n  return request({\r\n    url: '/channel/content',\r\n    params: {\r\n      id,\r\n      offset,\r\n      limit\r\n    }\r\n  });\r\n}\r\n//获取频道详情\r\nexport function getChannelDetail(id: string, offset: number, limit: number) {\r\n  return request({\r\n    url: '/channel/detail',\r\n    params: {\r\n      id,\r\n      offset,\r\n      limit\r\n    }\r\n  });\r\n}\r\n//添加频道内容\r\nexport function addContent(cId: string, name: string, description: string) {\r\n  return request({\r\n    url: '/channel/content/add',\r\n    method: 'post',\r\n    data: {\r\n      cId,\r\n      name,\r\n      description\r\n    },\r\n    headers: {\r\n      // @ts-ignore\r\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\r\n    }\r\n  });\r\n}\r\n//上传频道内容图片\r\nexport function uploadContentCover(formData: FormData) {\r\n  return request({\r\n    url: '/channel/content/upload',\r\n    data: formData,\r\n    method: 'post',\r\n    headers: {\r\n      'Content-type': 'multipart/form-data',\r\n      // @ts-ignore\r\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\r\n    }\r\n  });\r\n}\r\n//获取用户电台数据\r\nexport function getUserChannelCount(userId: string) {\r\n  return request({\r\n    url: '/channel/count',\r\n    params: {\r\n      userId\r\n    }\r\n  });\r\n}\r\n//获取用户电台\r\nexport function getUserChannel(userId: string, cId: string, offset: number, limit: number) {\r\n  return request({\r\n    url: '/channel/user',\r\n    params: {\r\n      userId,\r\n      cId,\r\n      offset,\r\n      limit\r\n    }\r\n  });\r\n}\r\n//添加节目\r\nexport function addProgram(name: string, cId: string) {\r\n  return request({\r\n    url: '/channel/program',\r\n    method: 'post',\r\n    data: {\r\n      name,\r\n      cId\r\n    },\r\n    headers: {\r\n      //@ts-ignore\r\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\r\n    }\r\n  });\r\n}\r\n//上传节目\r\nexport function addProgramSource(id: string, formData: FormData) {\r\n  return request({\r\n    url: '/channel/program/source',\r\n    method: 'post',\r\n    params: {\r\n      id\r\n    },\r\n    data: formData,\r\n    headers: {\r\n      'Content-type': 'multipart/form-data',\r\n      // @ts-ignore\r\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\r\n    }\r\n  });\r\n}\r\n//为节目添加播放量\r\nexport function addProgramPlayCount(id: string) {\r\n  return request({\r\n    url: '/channel/playCount',\r\n    method: 'post',\r\n    data: {\r\n      id\r\n    },\r\n    headers: {\r\n      // @ts-ignore\r\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\r\n    }\r\n  });\r\n}\r\n//获取热门电台\r\nexport function getHotChannel<T>() {\r\n  return request<T>({\r\n    url: '/channel/hot'\r\n  });\r\n}\r\n//获取热门电台内容(电台页)\r\nexport function getHotChannelContent() {\r\n  return request({\r\n    url: '/channel/content/hot'\r\n  });\r\n}\r\n\r\n//获取节目详情(播放)\r\nexport function getProgramDetail(id: string) {\r\n  return request({\r\n    url: '/channel/program/detail',\r\n    params: {\r\n      id\r\n    }\r\n  });\r\n}\r\n//获取节目URL\r\nexport function getProgramURL(id: string) {\r\n  return request({\r\n    url: '/channel/program/url',\r\n    params: {\r\n      id\r\n    }\r\n  });\r\n}\r\n//获取电台收藏者\r\nexport function getChannelSubUser(cId: string, offset: number, limit: number) {\r\n  return request({\r\n    url: '/channel/sub/user',\r\n    params: {\r\n      cId,\r\n      offset,\r\n      limit\r\n    }\r\n  });\r\n}\r\n//获取用户播单\r\nexport function getUserChannelPlaylist<T>() {\r\n  return request<T>({\r\n    url: '/channel/program/list',\r\n    method: 'post',\r\n    data: {},\r\n    headers: {\r\n      // @ts-ignore\r\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\r\n    }\r\n  });\r\n}\r\n","export default __webpack_public_path__ + \"static/media/radio.b03184fc.png\";","import styled from 'styled-components';\r\nexport const RadioWrapper = styled.div`\r\n  position: relative;\r\n  .upload-radio {\r\n    width: 500px;\r\n    height: 300px;\r\n    margin: 30px auto;\r\n    border: 1px dotted #cccccc;\r\n    text-align: center;\r\n    border-radius: 8px;\r\n    img {\r\n      width: 200px;\r\n    }\r\n    .tip {\r\n      color: #5091cb;\r\n      text-decoration: underline;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n  .upload-content {\r\n    padding: 30px 50px;\r\n    background-color: #fff;\r\n    border-radius: 8px;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);\r\n    .name,\r\n    .desc {\r\n      display: flex;\r\n      margin: 0 0 20px 0;\r\n      textarea {\r\n        resize: none;\r\n        border: 1px solid #cccac1;\r\n      }\r\n      span {\r\n        margin: 0 5px 0 0;\r\n      }\r\n    }\r\n    .prev-img {\r\n      width: 92%;\r\n      height: 100px;\r\n      background-color: #f2f2f2;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      position: relative;\r\n      margin: 0 0 20px 0;\r\n      input {\r\n        position: absolute;\r\n        height: 100%;\r\n        width: 100%;\r\n        opacity: 0;\r\n        cursor: pointer;\r\n      }\r\n      i.iconfont {\r\n        font-size: 40px;\r\n        color: #ff3a3a;\r\n        display: inline-block;\r\n      }\r\n      img {\r\n        height: 100%;\r\n      }\r\n    }\r\n    .channel-list {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      width: 450px;\r\n      & > li {\r\n        white-space: nowrap;\r\n        margin: 0 15px 15px 0;\r\n        background-color: #f7b3b3;\r\n        font-size: 13px;\r\n        color: #fff;\r\n        padding: 4px 15px;\r\n        border-radius: 5px;\r\n        cursor: pointer;\r\n        &:hover {\r\n          background-color: #f27a7a;\r\n        }\r\n        &.active {\r\n          background-color: #f27a7a;\r\n        }\r\n      }\r\n    }\r\n    .control-btn {\r\n      display: flex;\r\n      justify-content: flex-end;\r\n      button {\r\n        color: #fff;\r\n        font-size: 13px;\r\n        padding: 4px 15px;\r\n        margin: 0 0 0 30px;\r\n        cursor: pointer;\r\n        &:nth-child(1) {\r\n          background-color: #f27a7a;\r\n        }\r\n        &:nth-child(2) {\r\n          background-color: #efefef;\r\n          color: #656565;\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import React, { memo, FC, ReactElement, useEffect, useState, ChangeEvent } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport radioImg from '../../../../../../../assets/img/channel/radio.png';\r\nimport { RadioWrapper } from './style';\r\nimport { addContent, getAllChannel, uploadContentCover } from '../../../../../../../network/channel';\r\nimport { IChannel } from '../../../../../../../constant/channel';\r\nimport { changeShow } from '../../../../../../../components/common/toast/store/actionCreators';\r\nimport { publishMessage } from '../../../../../../../network/message';\r\n\r\nconst Radio: FC = (): ReactElement => {\r\n  const [channel, setChannel] = useState<IChannel[]>([]);\r\n  const [currentIndex, setCurrentIndex] = useState<number>(0);\r\n  const [isShow, setIsShow] = useState<boolean>(false);\r\n\r\n  const [name, setName] = useState<string>('');\r\n  const [desc, setDesc] = useState<string>('');\r\n  const [cId, setCid] = useState<string>('');\r\n\r\n  const [prevImgURL, setPrevImg] = useState<string>('');\r\n  const [imgFile, setImgFile] = useState<File>();\r\n  const [isShowPrev, setIsShowPrev] = useState<boolean>(false);\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    getAllChannel().then((data: any) => {\r\n      setChannel(data);\r\n      setCid(data[0].id);\r\n    });\r\n  }, []);\r\n  const liClick = (item: IChannel, index: number) => {\r\n    setCurrentIndex(index);\r\n    setCid(item.id);\r\n  };\r\n  const uploadBtn = () => {\r\n    setIsShow(true);\r\n  };\r\n  const inpChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    if (e.currentTarget.files) {\r\n      const url = URL.createObjectURL(e.currentTarget.files[0]);\r\n      setPrevImg(url);\r\n      setIsShowPrev(true);\r\n      setImgFile(e.currentTarget.files[0]);\r\n    }\r\n  };\r\n  const nameChange = (e: ChangeEvent<HTMLTextAreaElement>) => {\r\n    setName(e.currentTarget.value);\r\n  };\r\n  const descChange = (e: ChangeEvent<HTMLTextAreaElement>) => {\r\n    setDesc(e.currentTarget.value);\r\n  };\r\n  const define = () => {\r\n    if (name.trim().length === 0) {\r\n      dispatch(changeShow('名称不能为空', 1500));\r\n    } else if (desc.trim().length === 0) {\r\n      dispatch(changeShow('简介不能为空', 1500));\r\n    } else if (!imgFile) {\r\n      dispatch(changeShow('请选择文件', 1500));\r\n    } else if (cId.trim().length === 0) {\r\n      dispatch(changeShow('请选择文件', 1500));\r\n    } else {\r\n      addContent(cId, name, desc).then((data: any) => {\r\n        if (data) {\r\n          const { id } = data;\r\n          let formData: FormData = new FormData();\r\n          formData.append('cover', imgFile);\r\n          formData.append('id', id);\r\n          uploadContentCover(formData).then((data: any) => {\r\n            setCid('');\r\n            setDesc('');\r\n            setName('');\r\n            setImgFile(undefined);\r\n            setPrevImg('');\r\n            setIsShow(false);\r\n            setIsShowPrev(false);\r\n          });\r\n          publishMessage('/channel', '发布了', 'ccId', id);\r\n        }\r\n      });\r\n    }\r\n  };\r\n  const cancel = () => {\r\n    setIsShow(false);\r\n    setCid('');\r\n    setDesc('');\r\n    setName('');\r\n    setImgFile(undefined);\r\n    setPrevImg('');\r\n    setIsShowPrev(false);\r\n  };\r\n  return (\r\n    <RadioWrapper>\r\n      <div className=\"upload-radio\">\r\n        <img src={radioImg} alt=\"radio-img\" />\r\n        <p className=\"tip\" onClick={(e) => uploadBtn()}>\r\n          点击添加\r\n        </p>\r\n      </div>\r\n      {/*上传组件*/}\r\n      {isShow && (\r\n        <div className=\"upload-content\">\r\n          <div className=\"name\">\r\n            <span>名称:</span>\r\n            <textarea rows={2} cols={50} value={name} onChange={(e) => nameChange(e)}>\r\n              {' '}\r\n            </textarea>\r\n          </div>\r\n          <div className=\"desc\">\r\n            <span>简介:</span>\r\n            <textarea rows={5} cols={50} value={desc} onChange={(e) => descChange(e)}>\r\n              {' '}\r\n            </textarea>\r\n          </div>\r\n          {/*图片预览*/}\r\n          <div className=\"prev-img\">\r\n            {!isShowPrev && <input type=\"file\" onChange={(e) => inpChange(e)} />}\r\n            {!isShowPrev && <i className=\"iconfont icon-tupian\"> </i>}\r\n            {isShowPrev && <img src={prevImgURL} alt=\"图片预览\" />}\r\n          </div>\r\n\r\n          <ul className=\"channel-list\">\r\n            {channel.length !== 0 &&\r\n              channel.map((item, index) => {\r\n                return (\r\n                  <li\r\n                    key={item.id}\r\n                    onClick={(e) => liClick(item, index)}\r\n                    className={currentIndex === index ? 'active' : ''}\r\n                  >\r\n                    {item.name}\r\n                  </li>\r\n                );\r\n              })}\r\n          </ul>\r\n          <div className=\"control-btn\">\r\n            <button className=\"define\" onClick={(e) => define()}>\r\n              确定\r\n            </button>\r\n            <button className=\"cancel\" onClick={(e) => cancel()}>\r\n              取消\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </RadioWrapper>\r\n  );\r\n};\r\nexport default memo(Radio);\r\n","/*\r\n@Name guobin\r\n@Description gb-music\r\n@author guobin\r\n@date 2021/9/21\r\n*/\r\nimport axios, { AxiosInstance, AxiosRequestConfig } from 'axios';\r\nimport { HOST_NAME } from '../config';\r\nimport store from '../store';\r\nimport { changeUserMsg, logoutAction } from '../views/Login/store/actionCreators';\r\nimport { createBrowserHistory } from 'history';\r\nfunction request<T>(config: AxiosRequestConfig) {\r\n  const instance: AxiosInstance = axios.create({\r\n    baseURL: HOST_NAME,\r\n    timeout: 15000\r\n  });\r\n  instance.interceptors.request.use(\r\n    (config) => {\r\n      return config;\r\n    },\r\n    (err) => {\r\n      console.log(err);\r\n      return err;\r\n    }\r\n  );\r\n  instance.interceptors.response.use(\r\n    (res) => {\r\n      return res.data;\r\n    },\r\n    (err) => {\r\n      if (err.response) {\r\n        const { status, data } = err.response;\r\n        if (status * 1 === 403 && data.message === '请登录') {\r\n          // @ts-ignore\r\n          store.dispatch(logoutAction());\r\n          store.dispatch(\r\n            changeUserMsg({\r\n              token: '',\r\n              userName: '',\r\n              userId: '',\r\n              avatarUrl: '',\r\n              createTime: '',\r\n              updateTime: '',\r\n              manage: -1,\r\n              auth: -1\r\n            })\r\n          );\r\n          createBrowserHistory().push({\r\n            pathname: '/Login'\r\n          });\r\n        } else {\r\n          throw err;\r\n        }\r\n      }\r\n    }\r\n  );\r\n  return instance.request<any, T>(config);\r\n}\r\nexport default request;\r\n"],"sourceRoot":""}