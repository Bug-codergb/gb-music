(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-280676e6"],{2547:function(t,e,s){"use strict";s("27af")},"27af":function(t,e,s){},4661:function(t,e,s){"use strict";s("e9b5")},5073:function(t,e,s){"use strict";s("d22f")},"642b":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tab-control"},[s("ul",{staticClass:"list"},t._l(t.list,(function(e,n){return s("li",{key:e,class:{active:t.currentIndex===n},on:{click:function(s){return t.liClick(e,n)}}},[s("span",[t._v(t._s(e))])])})),0),s("ul",t._l(t.list,(function(e,n){return t.currentIndex===n?s("li",{key:e},[s("div",[t._t(n)],2)]):t._e()})),0)])},i=[],a={name:"TabControl",props:{list:{type:Array,default:function(){return[]}}},data:function(){return{currentIndex:0}},methods:{liClick:function(t,e){this.currentIndex=e}}},r=a,o=(s("5073"),s("2877")),u=Object(o["a"])(r,n,i,!1,null,"7e19d0a9",null);e["a"]=u.exports},"73a0":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"toplist-outer"},[s("div",{staticClass:"head"},[s("div",{staticClass:"img-container"},[s("img",{attrs:{src:t.toplist.coverUrl,alt:t.toplist.name}})]),s("div",{staticClass:"msg"},[s("div",{staticClass:"title"},[t._v(t._s(t.toplist.name))]),s("div",{staticClass:"user"},[s("UserMsg",{attrs:{"item-width":"20px","user-name":t.toplist.user.userName,"avatar-url":t.toplist.user.avatarUrl}}),t.toplist.createTime?s("div",{staticClass:"create-time"},[t._v(" "+t._s((t.toplist.createTime,"yyyy-MM-dd"|t.timeFormat))+" ")]):t._e()],1),s("div",{staticClass:"play-count"},[t._v("播放量: "+t._s(t.toplist.playCount))]),s("div",{staticClass:"count"},[t._v("歌曲数:"+t._s(t.toplist.songs.length))])])]),s("div",{staticClass:"content-body"},[s("TabControl",{attrs:{list:["歌曲"]},scopedSlots:t._u([{key:"0",fn:function(){return[t.toplist.songs.length?s("SongList",{attrs:{songs:t.toplist.songs,tId:t.toplist.id}}):t._e()]},proxy:!0}])})],1)])},i=[],a=s("ba37"),r=s("b719"),o=s("7f08"),u=s("642b"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"songs"},[s("ul",t._l(t.songs,(function(e,n){return s("li",{key:e.id},[s("div",{staticClass:"index"},[t._v(t._s((n+1).toString().padStart(2,"0")))]),s("div",{staticClass:"name"},[t._v(t._s(e.name))]),s("div",{staticClass:"artist-name text-nowrap",on:{click:function(s){return t.artistRouter(e)}}},[t._v(t._s(e.artist.name))]),s("div",{staticClass:"album-name text-nowrap",on:{click:function(s){return t.alumRouter(e)}}},[t._v(t._s(e.album.name))]),s("div",{staticClass:"dt"},[t._v(" "+t._s(t.formDate(e.duration,"mm:ss"))+" ")]),s("div",{staticClass:"remove"},[s("button",{on:{click:function(s){return t.remove(e,n)}}},[t._v("移除")])])])})),0)])},l=[],d=s("6be8"),f={name:"SongList",props:{songs:{type:Array,default:function(){return[]}},tId:{type:String,default:""}},methods:{remove:function(t,e){var s=this,n=confirm("确定要删除吗?");n&&Object(a["h"])(this.tId,t.id).then((function(t){s.$delete(s.songs,e)}))},formDate:function(t,e){return Object(d["a"])(t,e)},artistRouter:function(t){this.$router.push({path:"/Home/artistDetail",query:{id:t.artist.id}})},alumRouter:function(t){this.$router.push({path:"/Home/album/detail",query:{albumId:t.album.id}})}}},p=f,m=(s("2547"),s("2877")),v=Object(m["a"])(p,c,l,!1,null,"30ca1ec6",null),h=v.exports,b={name:"ToplistDetail",components:{SongList:h,TabControl:u["a"],UserMsg:r["a"]},data:function(){return{id:"",toplist:{user:{},songs:[]}}},filters:o["a"],created:function(){var t=this;this.id=this.$route.query.id,Object(a["f"])(this.id).then((function(e){t.toplist=e}))}},_=b,g=(s("a515"),Object(m["a"])(_,n,i,!1,null,"2c847cfc",null));e["default"]=g.exports},"7f08":function(t,e,s){"use strict";var n=s("6be8");e["a"]={timeFormat:function(t,e){return Object(n["a"])(t,e)}}},a515:function(t,e,s){"use strict";s("c535")},b719:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-msg"},[s("div",{staticClass:"avatar",style:{width:t.itemWidth,height:t.itemWidth}},[s("img",{attrs:{src:t.avatarUrl,alt:""}})]),s("div",{staticClass:"user-name"},[t._v(t._s(t.userName))])])},i=[],a={name:"UserMsg",props:{avatarUrl:{type:String,default:""},userName:{type:String,default:""},itemWidth:{type:String,default:"25px"}}},r=a,o=(s("4661"),s("2877")),u=Object(o["a"])(r,n,i,!1,null,"2ddc984e",null);e["a"]=u.exports},ba37:function(t,e,s){"use strict";s.d(e,"b",(function(){return a})),s.d(e,"i",(function(){return r})),s.d(e,"e",(function(){return o})),s.d(e,"d",(function(){return u})),s.d(e,"a",(function(){return c})),s.d(e,"f",(function(){return l})),s.d(e,"h",(function(){return d})),s.d(e,"g",(function(){return f})),s.d(e,"c",(function(){return p}));var n=s("1bab"),i=s("4360");function a(t,e){return Object(n["a"])({url:"/toplist",method:"post",data:{name:t,desc:e},headers:{authorization:i["a"].state.userMsg.token}})}function r(t,e){return Object(n["a"])({url:"/toplist/upload",method:"post",data:t,params:{tId:e},headers:{authorization:i["a"].state.userMsg.token,"Content-type":"multipart/form-data"}})}function o(){return Object(n["a"])({url:"/toplist/official "})}function u(){return Object(n["a"])({url:"/toplist/hot"})}function c(t,e){return Object(n["a"])({url:"/toplist/song",method:"post",data:{tId:t,songId:e},headers:{authorization:i["a"].state.userMsg.token}})}function l(t){return Object(n["a"])({url:"/toplist/detail",params:{id:t}})}function d(t,e){return Object(n["a"])({url:"/toplist/song/remove",method:"post",data:{tId:t,sId:e},headers:{authorization:i["a"].state.userMsg.token}})}function f(){return Object(n["a"])({url:"/toplist/export",method:"post"})}function p(t){return Object(n["a"])({url:"/toplist/delete",method:"post",data:{id:t},headers:{authorization:i["a"].state.userMsg.token}})}},c535:function(t,e,s){},d22f:function(t,e,s){},e9b5:function(t,e,s){}}]);
//# sourceMappingURL=chunk-280676e6.ccbfec11.js.map