{"version":3,"sources":["utils/format.ts","utils/holder.ts","components/content/msgItem/style.tsx","components/content/msgItem/index.tsx","components/content/detail/searchDetail/childCpn/video/style.tsx","components/content/detail/searchDetail/childCpn/video/index.tsx"],"names":["formatTime","dateS","fmt","date","Date","test","replace","RegExp","$1","getFullYear","substr","length","o","getMonth","getDate","getHours","getMinutes","getSeconds","k","str","padLeftZero","holder","count","line","s","i","Math","ceil","push","MsgItemWrapper","styled","div","props","widthProps","parseInt","scale","MsgItem","img","state","playCount","isShowPlayCount","itemWidth","dt","userName","cover","onClick","userRouter","className","e","memo","VideoWrapper","ul","Video","video","useSelector","getIn","map","item","index","name","src","coverUrl","alt","history","pathname","id","videoRouter","user","type","userId","style","height","width","display","alignItems","justifyContent","image","Empty","PRESENTED_IMAGE_SIMPLE","description"],"mappings":"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","file":"static/js/52.08e34ca9.chunk.js","sourcesContent":["/*格式化时间*/\nexport function formatTime(dateS: number | string, fmt: string) {\n  let date: Date = new Date(dateS);\n  if (/(y+)/.test(fmt)) {\n    fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\n  }\n  let o = {\n    'M+': date.getMonth() + 1,\n    'd+': date.getDate(),\n    'h+': date.getHours(),\n    'm+': date.getMinutes(),\n    's+': date.getSeconds()\n  };\n  for (let k in o) {\n    if (new RegExp(`(${k})`).test(fmt)) {\n      // @ts-ignore\n      let str = o[k] + '';\n      fmt = fmt.replace(RegExp.$1, RegExp.$1.length === 1 ? str : padLeftZero(str));\n    }\n  }\n  return fmt || '';\n}\n\nfunction padLeftZero(str: string) {\n  return ('00' + str).substr(str.length);\n}\n","export function holder(count: number, line: number): number[] {\n  let s: number[] = [];\n  for (let i = 0; i < Math.ceil(count / line) * line - count; i++) {\n    s.push(i);\n  }\n  return s;\n}\n","import styled from 'styled-components';\n/*interface IProps{\n    widthProps:string\n}*/\nexport const MsgItemWrapper: any = styled.div`\n  position: relative;\n  width: ${(props) => (props as any).widthProps};\n  .img-container {\n    width: ${(props) => (props as any).widthProps};\n    height: ${(props) => parseInt((props as any).widthProps) * (props as any).scale + 'px'};\n    overflow: hidden;\n    border-radius: 3px;\n    background-color: #fff;\n    position: relative;\n    img {\n      width: 100%;\n      position: absolute;\n      left: 50%;\n      top: 50%;\n      transform: translate(-50%, -50%);\n    }\n  }\n  .play-count {\n    position: absolute;\n    left: 100%;\n    top: 0;\n    color: #fff;\n    transform: translate(-110%, 10%);\n    white-space: nowrap;\n  }\n  .dt {\n    position: absolute;\n    top: 100%;\n    left: 100%;\n    color: #fff;\n    transform: translate(-110%, -110%);\n  }\n  .state {\n    margin: 10px 0 5px 0;\n    color: #373737;\n  }\n  .user-name {\n    color: #507daf;\n    font-size: 12px;\n    cursor: pointer;\n  }\n`;\n","import React, { memo, FC, ReactElement } from 'react';\n//样式\nimport { MsgItemWrapper } from './style';\nimport { formatTime } from '../../../utils/format';\ninterface IProps {\n  img: ReactElement;\n  state: ReactElement;\n  playCount?: number;\n  isShowPlayCount: boolean;\n  itemWidth: string;\n  scale: number;\n  dt?: number;\n  userName?: string;\n  cover?: ReactElement;\n  onClick?: () => void;\n}\nconst MsgItem: FC<IProps> = ({\n  img,\n  state,\n  playCount,\n  isShowPlayCount,\n  itemWidth,\n  scale,\n  dt,\n  userName,\n  cover,\n  onClick\n}): ReactElement => {\n  const userRouter = () => {\n    if (onClick) {\n      onClick();\n    }\n  };\n  return (\n    <MsgItemWrapper widthProps={itemWidth} scale={scale}>\n      <div className=\"img-container\">\n        {cover}\n        {img}\n        {dt && <div className=\"dt\">{formatTime(dt, 'mm:ss')}</div>}\n      </div>\n      <div className=\"state text-nowrap\">{state}</div>\n      <div className=\"play-count\">\n        {isShowPlayCount && <i className=\"iconfont icon-play\"> </i>}\n        {playCount}\n      </div>\n      {userName && (\n        <div className=\"user-name\" onClick={(e) => userRouter()}>\n          {userName}\n        </div>\n      )}\n    </MsgItemWrapper>\n  );\n};\nexport default memo(MsgItem);\n","import styled from 'styled-components';\nexport const VideoWrapper = styled.ul`\n  padding: 0 20px;\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  li {\n    margin: 0 0 15px 0;\n    width: 190px;\n  }\n`;\n","import React, { memo, FC, ReactElement } from 'react';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { Map } from 'immutable';\nimport { VideoWrapper } from './style';\nimport { useSelector } from 'react-redux';\nimport MsgItem from '../../../../msgItem';\nimport { IVideo } from '../../../../../../constant/video';\nimport { holder } from '../../../../../../utils/holder';\nimport { Empty } from 'antd';\nimport { ISearchStore } from '../../../../../../constant/store/search';\nconst Video: FC<RouteComponentProps> = (props): ReactElement => {\n  const { video } = useSelector<Map<string, ISearchStore>, ISearchStore>((state) => {\n    return state.getIn(['searchReducer', 'searchResult']);\n  });\n  const videoRouter = (item: IVideo, index: number): void => {\n    props.history.push({\n      pathname: '/Home/videoDetail',\n      state: {\n        id: item.id\n      }\n    });\n  };\n  const userRouter = (item: IVideo) => {\n    if (item.type === 0) {\n      if ('userId' in item.user) {\n        props.history.push({\n          pathname: '/Home/userDetail',\n          state: {\n            userId: item.user.userId\n          }\n        });\n      }\n    } else if (item.type === 1) {\n      if ('id' in item.user) {\n        props.history.push({\n          pathname: '/Home/artistDetail',\n          state: {\n            id: item.user.id\n          }\n        });\n      }\n    }\n  };\n  return (\n    <VideoWrapper>\n      {video &&\n        video.length !== 0 &&\n        video.map((item: IVideo, index: number) => {\n          return (\n            <li key={item.id}>\n              <MsgItem\n                state={<span>{item.name}</span>}\n                img={<img src={item.coverUrl} alt={item.name} onClick={(e) => videoRouter(item, index)} />}\n                isShowPlayCount={true}\n                playCount={item.playCount}\n                scale={0.6}\n                itemWidth=\"190px\"\n                userName={'userName' in item.user ? item.user.userName : item.user.name}\n                onClick={() => userRouter(item)}\n                dt={item.dt}\n              />\n            </li>\n          );\n        })}\n      {video &&\n        video.length !== 0 &&\n        holder(video.length, 4).map((item: number) => {\n          return <li key={item}> </li>;\n        })}\n      {video.length === 0 && (\n        <div\n          style={{\n            height: '350px',\n            width: '100%',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center'\n          }}\n        >\n          <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} description={'暂无视频'} />\n        </div>\n      )}\n    </VideoWrapper>\n  );\n};\nexport default memo(Video);\n"],"sourceRoot":""}