{"version":3,"sources":["views/Login/store/actionCreators.tsx","network/user/index.ts","../node_modules/rc-util/es/KeyCode.js","network/login/index.tsx","../node_modules/rc-util/es/hooks/useMergedState.js","../node_modules/antd/es/_util/motion.js","components/content/playCoin/store/actionCreators.ts","utils/formatLyric.ts","network/song/index.ts","utils/getRandom.ts","utils/verify.ts","store/playType/actionCreators.ts","../node_modules/rc-util/es/Dom/addEventListener.js","../node_modules/rc-util/es/Dom/contains.js","../node_modules/rc-util/es/Portal.js","components/common/vip-mv/style.tsx","components/common/vip-mv/index.tsx","assets/img/holder/placeholder.png","../node_modules/lodash/isObject.js","../node_modules/lodash/_root.js","../node_modules/lodash/_Symbol.js","../node_modules/antd/es/_util/type.js","../node_modules/antd/es/_util/reactNode.js","../node_modules/lodash/debounce.js","../node_modules/lodash/now.js","../node_modules/lodash/_freeGlobal.js","../node_modules/lodash/toNumber.js","../node_modules/lodash/_baseTrim.js","../node_modules/lodash/_trimmedEndIndex.js","../node_modules/lodash/isSymbol.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_objectToString.js","../node_modules/lodash/isObjectLike.js","network/toplist/toplist.ts","../node_modules/antd/es/spin/index.js","views/discover/childCpn/toplist/style.tsx","views/discover/childCpn/toplist/childCpn/hotToplist/style.tsx","views/discover/childCpn/toplist/childCpn/hotToplist/index.tsx","views/discover/childCpn/toplist/index.tsx","network/request.tsx"],"names":["changeUserMsg","res","type","userMsg","changeLoginType","loginType","changeUserDetailAction","dispatch","getUserDetail","then","data","love","follow","window","localStorage","setItem","JSON","stringify","userDetail","loginAction","userName","password","props","a","login","token","updateUserExpire","code","changeShow","auth","vip","history","push","pathname","console","log","message","warning","content","style","fontSize","marginTop","logoutAction","clear","userId","avatarUrl","createTime","updateTime","manage","subscriber","thumb","songId","setUserFavorite","id","request","url","method","headers","authorization","store","getState","getIn","getUserFavorite","offset","limit","params","cancelFavorite","getUserSub","uploadAvatar","formData","getOtherUserDetail","getUserChannel","getUserSubPlaylist","getUserMomentData","getUserAllMoment","getSimpleUserInfo","KeyCode","MAC_ENTER","BACKSPACE","TAB","NUM_CENTER","ENTER","SHIFT","CTRL","ALT","PAUSE","CAPS_LOCK","ESC","SPACE","PAGE_UP","PAGE_DOWN","END","HOME","LEFT","UP","RIGHT","DOWN","PRINT_SCREEN","INSERT","DELETE","ZERO","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","QUESTION_MARK","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","META","WIN_KEY_RIGHT","CONTEXT_MENU","NUM_ZERO","NUM_ONE","NUM_TWO","NUM_THREE","NUM_FOUR","NUM_FIVE","NUM_SIX","NUM_SEVEN","NUM_EIGHT","NUM_NINE","NUM_MULTIPLY","NUM_PLUS","NUM_MINUS","NUM_PERIOD","NUM_DIVISION","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","NUMLOCK","SEMICOLON","DASH","EQUALS","COMMA","PERIOD","SLASH","APOSTROPHE","SINGLE_QUOTE","OPEN_SQUARE_BRACKET","BACKSLASH","CLOSE_SQUARE_BRACKET","WIN_KEY","MAC_FF_META","WIN_IME","isTextModifyingKeyEvent","e","keyCode","altKey","ctrlKey","metaKey","isCharacterKey","navigator","userAgent","indexOf","register","useControlledState","defaultStateValue","option","_ref","defaultValue","value","onChange","postState","_React$useState","React","undefined","_React$useState2","_slicedToArray","innerValue","setInnerValue","mergedValue","firstRenderRef","current","newValue","getTransitionName","rootPrefixCls","motion","transitionName","concat","changeSongURL","songUrl","changeSongDetail","document","title","name","artist","channel","songDetail","changeLyric","lyric","changeLyricLine","lyricLine","changeCurrentLyricIndex","index","currentLyricIndex","changeCurrentIndex","currentIndex","changePlayMode","playMode","changeSongDetailAction","playlist","flag","findIndex","item","changePlayType","getSongDetail","changeSongURLAction","changeSongLyric","newPlaylist","length","addSongPlayCount","changeCurrentSongAction","tag","rand","getRandom","getSongURL","mp3Url","verifyURL","getLyric","lyricArray","lyricExp","lineLyric","split","result","exec","lyricObj","duration","replace","trim","getFormatLyric","getRecSong","downloadSong","fetch","HOST_NAME","body","fileStream","streamSaver","createWriteStream","size","get","readableStream","WritableStream","pipeTo","writer","getWriter","reader","getReader","pump","read","done","close","write","start","end","Math","floor","random","jwt","verify","algorithms","playType","addEventListenerWrap","target","eventType","cb","callback","ReactDOM","unstable_batchedUpdates","addEventListener","remove","removeEventListener","contains","root","n","Portal","forwardRef","ref","didUpdate","getContainer","children","containerRef","useRef","useImperativeHandle","initRef","canUseDom","useEffect","_containerRef$current","_containerRef$current2","parentNode","removeChild","createPortal","VipMvWrapper","styled","div","VipMv","isShowMv","isShowVip","onClick","videoClick","stopPropagation","className","withRouter","memo","module","exports","freeGlobal","require","freeSelf","self","Object","Function","Symbol","tuple","_len","arguments","args","Array","_key","isValidElement","cloneElement","element","replacement","replaceElement","isObject","now","toNumber","nativeMax","max","nativeMin","min","func","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","thisArg","apply","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","this","clearTimeout","cancel","flush","Date","global","baseTrim","isSymbol","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","other","valueOf","isBinary","test","slice","trimmedEndIndex","reTrimStart","string","reWhitespace","charAt","baseGetTag","isObjectLike","getRawTag","objectToString","symToStringTag","toStringTag","objectProto","prototype","hasOwnProperty","nativeObjectToString","toString","isOwn","call","unmasked","getOfficial","getHotToplist","getToplistDetail","getSimiToplist","__rest","s","t","p","getOwnPropertySymbols","i","propertyIsEnumerable","defaultIndicator","Spin","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","debouncifyUpdateSpinning","delay","cancelExistingSpin","updateSpinning","debounce","originalUpdateSpinning","spinning","state","setState","renderSpin","_ref2","_classNames","getPrefixCls","direction","_a","customizePrefixCls","prefixCls","tip","wrapperClassName","restProps","spinClassName","classNames","_defineProperty","divProps","omit","spinElement","_extends","indicator","dotClassName","renderIndicator","isNestedPattern","containerClassName","key","shouldBeDelayed","isNaN","Number","shouldDelay","_createClass","ConfigConsumer","defaultProps","ToplistWrapper","HotToplistWrapper","HotToplist","useState","hotToplist","setToplist","detail","setDetail","useDispatch","promise","map","Promise","all","toplistRouter","width","height","src","coverUrl","preview","placeholder","active","loading","songs","it","playSong","video","videoRouter","artistRouter","Toplist","official","setOfficial","diff","config","instance","axios","create","baseURL","timeout","interceptors","use","err","response","status","createBrowserHistory"],"mappings":"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","file":"static/js/20.05ceac19.chunk.js","sourcesContent":["import { message } from 'antd';\nimport { login } from '../../../network/login';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { getUserDetail, updateUserExpire } from '../../../network/user';\nimport { changeShow } from '../../../components/common/toast/store/actionCreators';\nimport { ILoginUserAction } from './type';\nimport { IUserDetail, IUserMsg } from '../../../constant/store/login';\n\nexport function changeUserMsg(res: IUserMsg): ILoginUserAction {\n  return {\n    type: 'changeUserMsg',\n    userMsg: res\n  };\n}\nfunction changeLoginType(res: number): ILoginUserAction {\n  return {\n    type: 'changeLoginType',\n    loginType: res\n  };\n}\nfunction changeUserDetail(res: IUserDetail): ILoginUserAction {\n  return {\n    type: 'changeUserDetail',\n    userDetail: res\n  };\n}\nfunction deleteUserDetail(): ILoginUserAction {\n  return {\n    type: 'changeUserDetail',\n    userDetail: {\n      userId: '',\n      userName: '',\n      avatarUrl: '',\n      subscriber: [],\n      thumb: [],\n      follow: [{ userId: '' }],\n      love: [{ songId: '' }]\n    }\n  };\n}\nexport function changeUserDetailAction() {\n  return (dispatch: any) => {\n    getUserDetail().then((data: any) => {\n      const { love, follow } = data;\n      if (!love) {\n        data.love = [];\n      }\n      if (!follow) {\n        data.follow = [];\n      }\n      window.localStorage.setItem('userDetail', JSON.stringify(data));\n      dispatch(changeUserDetail(data));\n    });\n  };\n}\n\nexport function loginAction(userName: string, password: string, props: RouteComponentProps) {\n  return async (dispatch: any) => {\n    try {\n      const data: any = await login(userName, password);\n      if (data) {\n        const { token } = data;\n        const res: any = await updateUserExpire(token);\n        if (res.code * 1 === 200) {\n          dispatch(changeShow('您的VIP已经过期，开通VIP后畅想', 3500));\n          data.auth = 0;\n          delete data.vip;\n        }\n        await dispatch(changeUserMsg(data));\n        await dispatch(changeLoginType(1));\n        window.localStorage.setItem('userMsg', JSON.stringify(data));\n        window.localStorage.setItem('loginType', '1');\n        await dispatch(changeUserDetailAction());\n        props.history.push({\n          pathname: '/Home'\n        });\n      }\n    } catch (e) {\n      console.log(e);\n      message.warning({\n        content: '用户名或者密码错误',\n        style: {\n          fontSize: '20px',\n          marginTop: '5vh'\n        }\n      });\n    }\n  };\n}\n//退出登录\nexport function logoutAction() {\n  return (dispatch: any) => {\n    window.localStorage.clear();\n    dispatch(changeLoginType(0));\n    dispatch(\n      changeUserMsg({\n        token: '',\n        userName: '',\n        userId: '',\n        avatarUrl: '',\n        createTime: '',\n        updateTime: '',\n        manage: -1,\n        auth: -1\n      })\n    );\n    dispatch(deleteUserDetail());\n  };\n}\n","import request from '../request';\nimport store from '../../store/index';\n//用户喜欢歌曲\nexport function setUserFavorite(id: string) {\n  return request({\n    url: '/user/favorite',\n    method: 'post',\n    data: {\n      id\n    },\n    headers: {\n      // @ts-ignore\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\n    }\n  });\n}\n//获取用户喜欢歌曲\nexport function getUserFavorite(offset: number, limit: number) {\n  return request({\n    url: '/user/favorite',\n    params: {\n      offset,\n      limit\n    },\n    headers: {\n      // @ts-ignore\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\n    }\n  });\n}\n//取消用户喜欢\nexport function cancelFavorite(songId: string) {\n  return request({\n    url: '/user/favorite/cancel',\n    method: 'post',\n    data: {\n      songId: songId\n    },\n    headers: {\n      // @ts-ignore\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\n    }\n  });\n}\n//获取用户收藏\nexport function getUserSub(url: string, offset: number, limit: number) {\n  return request({\n    url: `/sub/user/${url}`,\n    params: {\n      offset,\n      limit\n    },\n    headers: {\n      // @ts-ignore\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\n    }\n  });\n}\n//获取当前登录用户详情\nexport function getUserDetail() {\n  return request({\n    url: '/user/detail',\n    headers: {\n      // @ts-ignore\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\n    }\n  });\n}\n//上传用户头像\nexport function uploadAvatar(formData: FormData) {\n  return request({\n    url: '/user/upload/avatar',\n    method: 'post',\n    headers: {\n      // @ts-ignore\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token,\n      'Content-Type': 'multipart/form-data'\n    },\n    data: formData\n  });\n}\n//获取其它用户详情\nexport function getOtherUserDetail<T>(userId: string) {\n  return request<T>({\n    url: '/user/other/detail',\n    method: 'post',\n    data: {\n      userId\n    },\n    headers: {\n      // @ts-ignore\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\n    }\n  });\n}\n\n//获取用户创建的电台\nexport function getUserChannel(userId: string, offset: number, limit: number) {\n  return request({\n    url: '/user/channel',\n    method: 'post',\n    data: {\n      userId,\n      offset,\n      limit\n    },\n    headers: {\n      // @ts-ignore\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\n    }\n  });\n}\n\n//获取用户收藏的歌单\nexport function getUserSubPlaylist<T>(userId: string, offset: number, limit: number) {\n  return request<T>({\n    url: '/sub/user/playlist',\n    method: 'post',\n    params: {\n      offset,\n      limit\n    },\n    data: {\n      userId\n    }\n  });\n}\n//用户VIP是否·过期\nexport function updateUserExpire(token: string) {\n  return request({\n    url: '/user/expire',\n    method: 'post',\n    headers: {\n      // @ts-ignore\n      authorization: token\n    }\n  });\n}\n//获取用户动态数据\nexport function getUserMomentData() {\n  return request({\n    url: '/user/data/moment',\n    method: 'post',\n    headers: {\n      // @ts-ignore\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\n    }\n  });\n}\n//获取用户全部动态\nexport function getUserAllMoment(offset: string, limit: string) {\n  return request({\n    url: '/user/moment',\n    method: 'post',\n    data: {\n      offset,\n      limit\n    },\n    headers: {\n      // @ts-ignore\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\n    }\n  });\n}\n//获取用户简略信息\nexport function getSimpleUserInfo<T>(userId: string) {\n  return request<T>({\n    url: '/user/simple',\n    params: {\n      userId\n    },\n    headers: {\n      // @ts-ignore\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\n    }\n  });\n}\n","/**\n * @ignore\n * some key-codes definition and utils from closure-library\n * @author yiminghe@gmail.com\n */\nvar KeyCode = {\n  /**\n   * MAC_ENTER\n   */\n  MAC_ENTER: 3,\n\n  /**\n   * BACKSPACE\n   */\n  BACKSPACE: 8,\n\n  /**\n   * TAB\n   */\n  TAB: 9,\n\n  /**\n   * NUMLOCK on FF/Safari Mac\n   */\n  NUM_CENTER: 12,\n\n  /**\n   * ENTER\n   */\n  ENTER: 13,\n\n  /**\n   * SHIFT\n   */\n  SHIFT: 16,\n\n  /**\n   * CTRL\n   */\n  CTRL: 17,\n\n  /**\n   * ALT\n   */\n  ALT: 18,\n\n  /**\n   * PAUSE\n   */\n  PAUSE: 19,\n\n  /**\n   * CAPS_LOCK\n   */\n  CAPS_LOCK: 20,\n\n  /**\n   * ESC\n   */\n  ESC: 27,\n\n  /**\n   * SPACE\n   */\n  SPACE: 32,\n\n  /**\n   * PAGE_UP\n   */\n  PAGE_UP: 33,\n\n  /**\n   * PAGE_DOWN\n   */\n  PAGE_DOWN: 34,\n\n  /**\n   * END\n   */\n  END: 35,\n\n  /**\n   * HOME\n   */\n  HOME: 36,\n\n  /**\n   * LEFT\n   */\n  LEFT: 37,\n\n  /**\n   * UP\n   */\n  UP: 38,\n\n  /**\n   * RIGHT\n   */\n  RIGHT: 39,\n\n  /**\n   * DOWN\n   */\n  DOWN: 40,\n\n  /**\n   * PRINT_SCREEN\n   */\n  PRINT_SCREEN: 44,\n\n  /**\n   * INSERT\n   */\n  INSERT: 45,\n\n  /**\n   * DELETE\n   */\n  DELETE: 46,\n\n  /**\n   * ZERO\n   */\n  ZERO: 48,\n\n  /**\n   * ONE\n   */\n  ONE: 49,\n\n  /**\n   * TWO\n   */\n  TWO: 50,\n\n  /**\n   * THREE\n   */\n  THREE: 51,\n\n  /**\n   * FOUR\n   */\n  FOUR: 52,\n\n  /**\n   * FIVE\n   */\n  FIVE: 53,\n\n  /**\n   * SIX\n   */\n  SIX: 54,\n\n  /**\n   * SEVEN\n   */\n  SEVEN: 55,\n\n  /**\n   * EIGHT\n   */\n  EIGHT: 56,\n\n  /**\n   * NINE\n   */\n  NINE: 57,\n\n  /**\n   * QUESTION_MARK\n   */\n  QUESTION_MARK: 63,\n\n  /**\n   * A\n   */\n  A: 65,\n\n  /**\n   * B\n   */\n  B: 66,\n\n  /**\n   * C\n   */\n  C: 67,\n\n  /**\n   * D\n   */\n  D: 68,\n\n  /**\n   * E\n   */\n  E: 69,\n\n  /**\n   * F\n   */\n  F: 70,\n\n  /**\n   * G\n   */\n  G: 71,\n\n  /**\n   * H\n   */\n  H: 72,\n\n  /**\n   * I\n   */\n  I: 73,\n\n  /**\n   * J\n   */\n  J: 74,\n\n  /**\n   * K\n   */\n  K: 75,\n\n  /**\n   * L\n   */\n  L: 76,\n\n  /**\n   * M\n   */\n  M: 77,\n\n  /**\n   * N\n   */\n  N: 78,\n\n  /**\n   * O\n   */\n  O: 79,\n\n  /**\n   * P\n   */\n  P: 80,\n\n  /**\n   * Q\n   */\n  Q: 81,\n\n  /**\n   * R\n   */\n  R: 82,\n\n  /**\n   * S\n   */\n  S: 83,\n\n  /**\n   * T\n   */\n  T: 84,\n\n  /**\n   * U\n   */\n  U: 85,\n\n  /**\n   * V\n   */\n  V: 86,\n\n  /**\n   * W\n   */\n  W: 87,\n\n  /**\n   * X\n   */\n  X: 88,\n\n  /**\n   * Y\n   */\n  Y: 89,\n\n  /**\n   * Z\n   */\n  Z: 90,\n\n  /**\n   * META\n   */\n  META: 91,\n\n  /**\n   * WIN_KEY_RIGHT\n   */\n  WIN_KEY_RIGHT: 92,\n\n  /**\n   * CONTEXT_MENU\n   */\n  CONTEXT_MENU: 93,\n\n  /**\n   * NUM_ZERO\n   */\n  NUM_ZERO: 96,\n\n  /**\n   * NUM_ONE\n   */\n  NUM_ONE: 97,\n\n  /**\n   * NUM_TWO\n   */\n  NUM_TWO: 98,\n\n  /**\n   * NUM_THREE\n   */\n  NUM_THREE: 99,\n\n  /**\n   * NUM_FOUR\n   */\n  NUM_FOUR: 100,\n\n  /**\n   * NUM_FIVE\n   */\n  NUM_FIVE: 101,\n\n  /**\n   * NUM_SIX\n   */\n  NUM_SIX: 102,\n\n  /**\n   * NUM_SEVEN\n   */\n  NUM_SEVEN: 103,\n\n  /**\n   * NUM_EIGHT\n   */\n  NUM_EIGHT: 104,\n\n  /**\n   * NUM_NINE\n   */\n  NUM_NINE: 105,\n\n  /**\n   * NUM_MULTIPLY\n   */\n  NUM_MULTIPLY: 106,\n\n  /**\n   * NUM_PLUS\n   */\n  NUM_PLUS: 107,\n\n  /**\n   * NUM_MINUS\n   */\n  NUM_MINUS: 109,\n\n  /**\n   * NUM_PERIOD\n   */\n  NUM_PERIOD: 110,\n\n  /**\n   * NUM_DIVISION\n   */\n  NUM_DIVISION: 111,\n\n  /**\n   * F1\n   */\n  F1: 112,\n\n  /**\n   * F2\n   */\n  F2: 113,\n\n  /**\n   * F3\n   */\n  F3: 114,\n\n  /**\n   * F4\n   */\n  F4: 115,\n\n  /**\n   * F5\n   */\n  F5: 116,\n\n  /**\n   * F6\n   */\n  F6: 117,\n\n  /**\n   * F7\n   */\n  F7: 118,\n\n  /**\n   * F8\n   */\n  F8: 119,\n\n  /**\n   * F9\n   */\n  F9: 120,\n\n  /**\n   * F10\n   */\n  F10: 121,\n\n  /**\n   * F11\n   */\n  F11: 122,\n\n  /**\n   * F12\n   */\n  F12: 123,\n\n  /**\n   * NUMLOCK\n   */\n  NUMLOCK: 144,\n\n  /**\n   * SEMICOLON\n   */\n  SEMICOLON: 186,\n\n  /**\n   * DASH\n   */\n  DASH: 189,\n\n  /**\n   * EQUALS\n   */\n  EQUALS: 187,\n\n  /**\n   * COMMA\n   */\n  COMMA: 188,\n\n  /**\n   * PERIOD\n   */\n  PERIOD: 190,\n\n  /**\n   * SLASH\n   */\n  SLASH: 191,\n\n  /**\n   * APOSTROPHE\n   */\n  APOSTROPHE: 192,\n\n  /**\n   * SINGLE_QUOTE\n   */\n  SINGLE_QUOTE: 222,\n\n  /**\n   * OPEN_SQUARE_BRACKET\n   */\n  OPEN_SQUARE_BRACKET: 219,\n\n  /**\n   * BACKSLASH\n   */\n  BACKSLASH: 220,\n\n  /**\n   * CLOSE_SQUARE_BRACKET\n   */\n  CLOSE_SQUARE_BRACKET: 221,\n\n  /**\n   * WIN_KEY\n   */\n  WIN_KEY: 224,\n\n  /**\n   * MAC_FF_META\n   */\n  MAC_FF_META: 224,\n\n  /**\n   * WIN_IME\n   */\n  WIN_IME: 229,\n  // ======================== Function ========================\n\n  /**\n   * whether text and modified key is entered at the same time.\n   */\n  isTextModifyingKeyEvent: function isTextModifyingKeyEvent(e) {\n    var keyCode = e.keyCode;\n\n    if (e.altKey && !e.ctrlKey || e.metaKey || // Function keys don't generate text\n    keyCode >= KeyCode.F1 && keyCode <= KeyCode.F12) {\n      return false;\n    } // The following keys are quite harmless, even in combination with\n    // CTRL, ALT or SHIFT.\n\n\n    switch (keyCode) {\n      case KeyCode.ALT:\n      case KeyCode.CAPS_LOCK:\n      case KeyCode.CONTEXT_MENU:\n      case KeyCode.CTRL:\n      case KeyCode.DOWN:\n      case KeyCode.END:\n      case KeyCode.ESC:\n      case KeyCode.HOME:\n      case KeyCode.INSERT:\n      case KeyCode.LEFT:\n      case KeyCode.MAC_FF_META:\n      case KeyCode.META:\n      case KeyCode.NUMLOCK:\n      case KeyCode.NUM_CENTER:\n      case KeyCode.PAGE_DOWN:\n      case KeyCode.PAGE_UP:\n      case KeyCode.PAUSE:\n      case KeyCode.PRINT_SCREEN:\n      case KeyCode.RIGHT:\n      case KeyCode.SHIFT:\n      case KeyCode.UP:\n      case KeyCode.WIN_KEY:\n      case KeyCode.WIN_KEY_RIGHT:\n        return false;\n\n      default:\n        return true;\n    }\n  },\n\n  /**\n   * whether character is entered.\n   */\n  isCharacterKey: function isCharacterKey(keyCode) {\n    if (keyCode >= KeyCode.ZERO && keyCode <= KeyCode.NINE) {\n      return true;\n    }\n\n    if (keyCode >= KeyCode.NUM_ZERO && keyCode <= KeyCode.NUM_MULTIPLY) {\n      return true;\n    }\n\n    if (keyCode >= KeyCode.A && keyCode <= KeyCode.Z) {\n      return true;\n    } // Safari sends zero key code for non-latin characters.\n\n\n    if (window.navigator.userAgent.indexOf('WebKit') !== -1 && keyCode === 0) {\n      return true;\n    }\n\n    switch (keyCode) {\n      case KeyCode.SPACE:\n      case KeyCode.QUESTION_MARK:\n      case KeyCode.NUM_PLUS:\n      case KeyCode.NUM_MINUS:\n      case KeyCode.NUM_PERIOD:\n      case KeyCode.NUM_DIVISION:\n      case KeyCode.SEMICOLON:\n      case KeyCode.DASH:\n      case KeyCode.EQUALS:\n      case KeyCode.COMMA:\n      case KeyCode.PERIOD:\n      case KeyCode.SLASH:\n      case KeyCode.APOSTROPHE:\n      case KeyCode.SINGLE_QUOTE:\n      case KeyCode.OPEN_SQUARE_BRACKET:\n      case KeyCode.BACKSLASH:\n      case KeyCode.CLOSE_SQUARE_BRACKET:\n        return true;\n\n      default:\n        return false;\n    }\n  }\n};\nexport default KeyCode;","import request from '../request';\n//登录\nexport function login(userName: string, password: string) {\n  return request({\n    url: '/login',\n    method: 'post',\n    data: {\n      userName,\n      password\n    }\n  });\n}\n//注册\nexport function register(userName: string, password: string) {\n  return request({\n    url: '/register',\n    method: 'post',\n    data: {\n      userName,\n      password\n    }\n  });\n}\n","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nexport default function useControlledState(defaultStateValue, option) {\n  var _ref = option || {},\n      defaultValue = _ref.defaultValue,\n      value = _ref.value,\n      onChange = _ref.onChange,\n      postState = _ref.postState;\n\n  var _React$useState = React.useState(function () {\n    if (value !== undefined) {\n      return value;\n    }\n\n    if (defaultValue !== undefined) {\n      return typeof defaultValue === 'function' ? defaultValue() : defaultValue;\n    }\n\n    return typeof defaultStateValue === 'function' ? defaultStateValue() : defaultStateValue;\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      innerValue = _React$useState2[0],\n      setInnerValue = _React$useState2[1];\n\n  var mergedValue = value !== undefined ? value : innerValue;\n\n  if (postState) {\n    mergedValue = postState(mergedValue);\n  }\n\n  function triggerChange(newValue) {\n    setInnerValue(newValue);\n\n    if (mergedValue !== newValue && onChange) {\n      onChange(newValue, mergedValue);\n    }\n  } // Effect of reset value to `undefined`\n\n\n  var firstRenderRef = React.useRef(true);\n  React.useEffect(function () {\n    if (firstRenderRef.current) {\n      firstRenderRef.current = false;\n      return;\n    }\n\n    if (value === undefined) {\n      setInnerValue(value);\n    }\n  }, [value]);\n  return [mergedValue, triggerChange];\n}","// ================== Collapse Motion ==================\nvar getCollapsedHeight = function getCollapsedHeight() {\n  return {\n    height: 0,\n    opacity: 0\n  };\n};\n\nvar getRealHeight = function getRealHeight(node) {\n  return {\n    height: node.scrollHeight,\n    opacity: 1\n  };\n};\n\nvar getCurrentHeight = function getCurrentHeight(node) {\n  return {\n    height: node ? node.offsetHeight : 0\n  };\n};\n\nvar skipOpacityTransition = function skipOpacityTransition(_, event) {\n  return (event === null || event === void 0 ? void 0 : event.deadline) === true || event.propertyName === 'height';\n};\n\nvar collapseMotion = {\n  motionName: 'ant-motion-collapse',\n  onAppearStart: getCollapsedHeight,\n  onEnterStart: getCollapsedHeight,\n  onAppearActive: getRealHeight,\n  onEnterActive: getRealHeight,\n  onLeaveStart: getCurrentHeight,\n  onLeaveActive: getCollapsedHeight,\n  onAppearEnd: skipOpacityTransition,\n  onEnterEnd: skipOpacityTransition,\n  onLeaveEnd: skipOpacityTransition,\n  motionDeadline: 500\n};\n\nvar getTransitionName = function getTransitionName(rootPrefixCls, motion, transitionName) {\n  if (transitionName !== undefined) {\n    return transitionName;\n  }\n\n  return \"\".concat(rootPrefixCls, \"-\").concat(motion);\n};\n\nexport { getTransitionName };\nexport default collapseMotion;","import { addSongPlayCount, getLyric, getSongDetail, getSongURL } from '../../../../network/song';\nimport { ISong } from '../../../../constant/song';\nimport { getRandom } from '../../../../utils/getRandom';\nimport { changePlayType } from '../../../../store/playType/actionCreators';\nimport { getFormatLyric } from '../../../../utils/formatLyric';\nimport { verifyURL } from '../../../../utils/verify';\nimport { ISongStore } from '../../../../constant/store/song';\n\nexport function changeSongURL(res: string) {\n  return {\n    type: 'changeSongURL',\n    songUrl: res\n  };\n}\nexport function changeSongDetail(res: any) {\n  document.title = `${res.name} - ${res.artist ? res.artist.name : res.channel.name} - gb-music`;\n  return {\n    type: 'changeSongDetail',\n    songDetail: res\n  };\n}\nexport function changeLyric(res: any) {\n  return {\n    type: 'changeLyric',\n    lyric: res\n  };\n}\nexport function changeLyricLine(lyric: string) {\n  return {\n    type: 'changeLyricLine',\n    lyricLine: lyric\n  };\n}\nexport function changeCurrentLyricIndex(index: number) {\n  return {\n    type: 'changeCurrentLyricIndex',\n    currentLyricIndex: index\n  };\n}\n//添加到播放列表\nfunction changePlaylist(res: ISong[]) {\n  return {\n    type: 'changePlaylist',\n    playlist: res\n  };\n}\n//播放列表中歌曲索引\nfunction changeCurrentIndex(res: number) {\n  return {\n    type: 'changeCurrentIndex',\n    currentIndex: res\n  };\n}\n//改变播放模式\nexport function changePlayMode(res: number) {\n  return {\n    type: 'changePlayMode',\n    playMode: res\n  };\n}\nexport function changeSongDetailAction(id: string) {\n  return (dispatch: any, getState: any) => {\n    const { playlist } = getState().getIn(['songReducer', 'song']);\n    let flag = playlist.findIndex((item: ISong, index: number) => {\n      return item.id === id;\n    });\n    dispatch(changePlayType(0));\n    //播放列表中不存在\n    if (flag === -1) {\n      getSongDetail(id).then((data: any) => {\n        dispatch(changeSongDetail(data));\n        dispatch(changeSongURLAction(id));\n        dispatch(changeSongLyric(id));\n        const newPlaylist = [...playlist];\n        newPlaylist.push(data);\n        dispatch(changePlaylist(newPlaylist));\n        dispatch(changeCurrentIndex(newPlaylist.length - 1));\n      });\n      addSongPlayCount(id);\n    }\n    //播放列表中存在\n    if (flag !== -1) {\n      dispatch(changeCurrentIndex(flag));\n      dispatch(changeSongDetail(playlist[flag]));\n      dispatch(changeSongURLAction(id));\n      dispatch(changeSongLyric(id));\n      addSongPlayCount(id);\n    }\n  };\n}\nexport function changeCurrentSongAction(tag: number) {\n  return (dispatch: any, getState: any) => {\n    const { playMode }: ISongStore = getState().getIn(['songReducer', 'song']);\n    const { playlist }: ISongStore = getState().getIn(['songReducer', 'song']);\n    let { currentIndex }: ISongStore = getState().getIn(['songReducer', 'song']);\n    switch (playMode) {\n      case 1:\n        if (playlist.length !== 1) {\n          let rand = getRandom(0, playlist.length - 1);\n          while (rand === currentIndex) {\n            rand = getRandom(0, playlist.length - 1);\n          }\n          currentIndex = rand;\n        } else if (playlist.length === 1 || playlist.length === 0) {\n          currentIndex = 0;\n        }\n        break;\n      default:\n        currentIndex += tag;\n        if (currentIndex < 0) currentIndex = playlist.length - 1;\n        if (currentIndex > playlist.length - 1) currentIndex = 0;\n    }\n    dispatch(changeCurrentIndex(currentIndex));\n    dispatch(changeSongDetail(playlist[currentIndex]));\n    dispatch(changeSongURLAction(playlist[currentIndex].id));\n  };\n}\nexport function changeSongURLAction(id: string) {\n  return (dispatch: any) => {\n    getSongURL(id).then((data: any) => {\n      const { mp3Url } = data;\n      const url = verifyURL(mp3Url);\n      dispatch(changeSongURL(url));\n    });\n  };\n}\nexport function changeSongLyric(id: string) {\n  return (dispatch: any) => {\n    getLyric(id).then((data: any) => {\n      if (data.lyric) {\n        dispatch(changeLyric(getFormatLyric(data.lyric)));\n      } else {\n        dispatch(changeLyric('暂无歌词'));\n      }\n    });\n  };\n}\n","export const getFormatLyric = (lyric: string) => {\n  const lyricArray = [];\n  const lyricExp = /\\[(\\d{2}):(\\d{2})\\.(\\d{2,3})\\]/;\n  const lineLyric = lyric.split('\\n');\n\n  for (let item of lineLyric) {\n    if (item) {\n      const result = lyricExp.exec(item);\n      if (!result) continue;\n      // @ts-ignore\n      const time1: any = result[1] * 60 * 1000;\n      // @ts-ignore\n      const time2: any = result[2] * 1000;\n      // @ts-ignore\n      const time3: any = result[3].length === 3 ? result[3] * 1 : result[3] * 10;\n      const duration = time1 + time2 + time3;\n      const content = item.replace(lyricExp, '').trim();\n      const lyricObj = { duration, content };\n      lyricArray.push(lyricObj);\n    }\n  }\n  return lyricArray;\n};\n","import request from '../request';\nimport store from '../../store';\n// @ts-ignore\nimport streamSaver from 'streamsaver';\nimport { HOST_NAME } from '../../config';\n\n//获取推荐歌曲\nexport function getRecSong<T>(offset: number = 0, limit: number = 30) {\n  return request<T>({\n    url: '/song/recommend',\n    params: {\n      offset,\n      limit\n    }\n  });\n}\n//获取歌曲播放地址\nexport function getSongURL(id: string) {\n  return request({\n    url: '/song/url',\n    params: {\n      id\n    }\n  });\n}\n//获取歌曲详情\nexport function getSongDetail(id: String) {\n  return request({\n    url: '/song/detail',\n    params: {\n      id\n    }\n  });\n}\n//获取歌词\nexport function getLyric(id: string) {\n  return request({\n    url: '/song/lyric',\n    params: {\n      id\n    }\n  });\n}\n//为歌曲添加播放量\nexport function addSongPlayCount(id: string) {\n  return request({\n    url: '/song/playCount',\n    method: 'post',\n    data: {\n      id\n    }\n  });\n}\n//下载歌曲\nexport function downloadSong(id: string, name: string) {\n  fetch(`${HOST_NAME}/song/download`, {\n    method: 'post',\n    headers: {\n      // @ts-ignore\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ id })\n  }).then((res) => {\n    const fileStream = streamSaver.createWriteStream(name + '.mp3', {\n      size: res.headers.get('content-length')\n    });\n    const readableStream = res.body;\n    // @ts-ignore\n    if (window.WritableStream && readableStream.pipeTo) {\n      // @ts-ignore\n      return readableStream.pipeTo(fileStream).then(() => {});\n    }\n    // @ts-ignore\n    window.writer = fileStream.getWriter();\n    // @ts-ignore\n    const reader = res.body.getReader();\n    // @ts-ignore\n    const pump = () =>\n      reader.read().then((res) =>\n        // @ts-ignore\n        res.done ? window.writer.close() : window.writer.write(res.value).then(pump)\n      );\n    pump();\n  });\n}\n","const getRandom = (start: number, end: number): number => {\n  return Math.floor(Math.random() * (end - start + 1)) + start;\n};\nexport { getRandom };\n","import jwt from 'jsonwebtoken';\nfunction verifyURL(url: string) {\n  const publicKey: string = `-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDVngqLlcT4xs9q18KCEWGaNYIa\nEMwSIus02VG3XVt8IGwT5Ws8Z1qCULz7jxERDKgSyfUM0EMOQ2KH/Z/ZhhZAld1r\nDCjxhiWLwXx5qYWJo9U862aYMQUjb3J5iqf2Wg+OuHPYkZ9oUvQl01kMRTkEkprf\nkNSJkagkgGMGph5OywIDAQAB\n-----END PUBLIC KEY-----`;\n  const result: any = jwt.verify(url, publicKey, {\n    algorithms: ['RS256']\n  });\n  if ((result && result.url) || (result && result.mp3Url)) {\n    return result.url || result.mp3Url;\n  } else {\n    return '';\n  }\n}\nexport { verifyURL };\n","export function changePlayType(type: number) {\n  return {\n    type: 'changePlayType',\n    playType: type\n  };\n}\n","import ReactDOM from 'react-dom';\nexport default function addEventListenerWrap(target, eventType, cb, option) {\n  /* eslint camelcase: 2 */\n  var callback = ReactDOM.unstable_batchedUpdates ? function run(e) {\n    ReactDOM.unstable_batchedUpdates(cb, e);\n  } : cb;\n\n  if (target.addEventListener) {\n    target.addEventListener(eventType, callback, option);\n  }\n\n  return {\n    remove: function remove() {\n      if (target.removeEventListener) {\n        target.removeEventListener(eventType, callback);\n      }\n    }\n  };\n}","export default function contains(root, n) {\n  if (!root) {\n    return false;\n  }\n\n  return root.contains(n);\n}","import { useRef, useEffect, forwardRef, useImperativeHandle } from 'react';\nimport ReactDOM from 'react-dom';\nimport canUseDom from './Dom/canUseDom';\nvar Portal = forwardRef(function (props, ref) {\n  var didUpdate = props.didUpdate,\n      getContainer = props.getContainer,\n      children = props.children;\n  var containerRef = useRef(); // Ref return nothing, only for wrapper check exist\n\n  useImperativeHandle(ref, function () {\n    return {};\n  }); // Create container in client side with sync to avoid useEffect not get ref\n\n  var initRef = useRef(false);\n\n  if (!initRef.current && canUseDom()) {\n    containerRef.current = getContainer();\n    initRef.current = true;\n  } // [Legacy] Used by `rc-trigger`\n\n\n  useEffect(function () {\n    didUpdate === null || didUpdate === void 0 ? void 0 : didUpdate(props);\n  });\n  useEffect(function () {\n    return function () {\n      var _containerRef$current, _containerRef$current2;\n\n      // [Legacy] This should not be handle by Portal but parent PortalWrapper instead.\n      // Since some component use `Portal` directly, we have to keep the logic here.\n      (_containerRef$current = containerRef.current) === null || _containerRef$current === void 0 ? void 0 : (_containerRef$current2 = _containerRef$current.parentNode) === null || _containerRef$current2 === void 0 ? void 0 : _containerRef$current2.removeChild(containerRef.current);\n    };\n  }, []);\n  return containerRef.current ? ReactDOM.createPortal(children, containerRef.current) : null;\n});\nexport default Portal;","import styled from 'styled-components';\nexport const VipMvWrapper = styled.div`\n  .vip-mv {\n    display: flex;\n    align-items: center;\n    .vip,\n    .mv {\n      font-size: 12px;\n      padding: 0 4px 1px 4px;\n      border-radius: 4px;\n      line-height: 13px;\n      margin: 0 2px 0 0;\n      transform: scale(0.85);\n    }\n    .vip {\n      border: 2px solid #fa8153;\n      color: #fa8153;\n      font-weight: 600;\n    }\n    .mv {\n      border: 2px solid #ec4747;\n      color: #ec4747;\n      font-weight: bold;\n      cursor: pointer;\n    }\n  }\n`;\n","/*\n@Name guo'bin\n@Description gb-music\n@author guo'bin\n@date 2021/10/22\n*/\nimport React, { memo, ReactElement, FC, MouseEvent } from 'react';\nimport { VipMvWrapper } from './style';\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\ninterface IProps extends RouteComponentProps {\n  isShowVip: boolean;\n  isShowMv: boolean;\n  onClick: () => void;\n}\nconst VipMv: FC<IProps> = (props): ReactElement => {\n  const { isShowMv, isShowVip, onClick } = props;\n  const videoClick = (e: MouseEvent<HTMLLIElement>) => {\n    e.stopPropagation();\n    onClick();\n  };\n  return (\n    <VipMvWrapper>\n      <ul className=\"vip-mv\">\n        {isShowVip && (\n          <li className=\"vip\" onClick={(e) => e.stopPropagation()}>\n            VIP\n          </li>\n        )}\n        {isShowMv && (\n          <li className=\"mv\" onClick={(e) => videoClick(e)}>\n            MV\n          </li>\n        )}\n      </ul>\n    </VipMvWrapper>\n  );\n};\nexport default withRouter(memo(VipMv));\n","export default \"data:image/png;base64,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\"","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","// https://stackoverflow.com/questions/46176165/ways-to-get-string-literal-type-of-array-values-without-enum-overhead\nexport var tuple = function tuple() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return args;\n};\nexport var tupleNum = function tupleNum() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  return args;\n};","import * as React from 'react';\nvar isValidElement = React.isValidElement;\nexport { isValidElement };\nexport function replaceElement(element, replacement, props) {\n  if (!isValidElement(element)) return replacement;\n  return /*#__PURE__*/React.cloneElement(element, typeof props === 'function' ? props(element.props || {}) : props);\n}\nexport function cloneElement(element, props) {\n  return replaceElement(element, element, props);\n}","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","import request from '../request';\n//获取官方榜单\nexport function getOfficial<T>() {\n  return request<T>({\n    url: '/toplist/official'\n  });\n}\n//获取其他榜单\nexport function getHotToplist() {\n  return request({\n    url: '/toplist/hot'\n  });\n}\n//获取榜单详情\nexport function getToplistDetail<T>(id: string) {\n  return request<T>({\n    url: '/toplist/detail',\n    params: {\n      id\n    }\n  });\n}\n//导入\nexport function exportToplist() {\n  return request({\n    url: '/toplist/export',\n    method: 'post'\n  });\n}\n//获取相关榜单\nexport function getSimiToplist() {\n  return request({\n    url: '/toplist/simi'\n  });\n}\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport omit from \"rc-util/es/omit\";\nimport debounce from 'lodash/debounce';\nimport { ConfigConsumer } from '../config-provider';\nimport { tuple } from '../_util/type';\nimport { isValidElement, cloneElement } from '../_util/reactNode';\nvar SpinSizes = tuple('small', 'default', 'large'); // Render indicator\n\nvar defaultIndicator = null;\n\nfunction renderIndicator(prefixCls, props) {\n  var indicator = props.indicator;\n  var dotClassName = \"\".concat(prefixCls, \"-dot\"); // should not be render default indicator when indicator value is null\n\n  if (indicator === null) {\n    return null;\n  }\n\n  if (isValidElement(indicator)) {\n    return cloneElement(indicator, {\n      className: classNames(indicator.props.className, dotClassName)\n    });\n  }\n\n  if (isValidElement(defaultIndicator)) {\n    return cloneElement(defaultIndicator, {\n      className: classNames(defaultIndicator.props.className, dotClassName)\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: classNames(dotClassName, \"\".concat(prefixCls, \"-dot-spin\"))\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"\".concat(prefixCls, \"-dot-item\")\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"\".concat(prefixCls, \"-dot-item\")\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"\".concat(prefixCls, \"-dot-item\")\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"\".concat(prefixCls, \"-dot-item\")\n  }));\n}\n\nfunction shouldDelay(spinning, delay) {\n  return !!spinning && !!delay && !isNaN(Number(delay));\n}\n\nvar Spin = /*#__PURE__*/function (_React$Component) {\n  _inherits(Spin, _React$Component);\n\n  var _super = _createSuper(Spin);\n\n  function Spin(props) {\n    var _this;\n\n    _classCallCheck(this, Spin);\n\n    _this = _super.call(this, props);\n\n    _this.debouncifyUpdateSpinning = function (props) {\n      var _ref = props || _this.props,\n          delay = _ref.delay;\n\n      if (delay) {\n        _this.cancelExistingSpin();\n\n        _this.updateSpinning = debounce(_this.originalUpdateSpinning, delay);\n      }\n    };\n\n    _this.updateSpinning = function () {\n      var spinning = _this.props.spinning;\n      var currentSpinning = _this.state.spinning;\n\n      if (currentSpinning !== spinning) {\n        _this.setState({\n          spinning: spinning\n        });\n      }\n    };\n\n    _this.renderSpin = function (_ref2) {\n      var _classNames;\n\n      var getPrefixCls = _ref2.getPrefixCls,\n          direction = _ref2.direction;\n\n      var _a = _this.props,\n          customizePrefixCls = _a.prefixCls,\n          className = _a.className,\n          size = _a.size,\n          tip = _a.tip,\n          wrapperClassName = _a.wrapperClassName,\n          style = _a.style,\n          restProps = __rest(_a, [\"prefixCls\", \"className\", \"size\", \"tip\", \"wrapperClassName\", \"style\"]);\n\n      var spinning = _this.state.spinning;\n      var prefixCls = getPrefixCls('spin', customizePrefixCls);\n      var spinClassName = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-sm\"), size === 'small'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-lg\"), size === 'large'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-spinning\"), spinning), _defineProperty(_classNames, \"\".concat(prefixCls, \"-show-text\"), !!tip), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className); // fix https://fb.me/react-unknown-prop\n\n      var divProps = omit(restProps, ['spinning', 'delay', 'indicator']);\n      var spinElement = /*#__PURE__*/React.createElement(\"div\", _extends({}, divProps, {\n        style: style,\n        className: spinClassName\n      }), renderIndicator(prefixCls, _this.props), tip ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-text\")\n      }, tip) : null);\n\n      if (_this.isNestedPattern()) {\n        var containerClassName = classNames(\"\".concat(prefixCls, \"-container\"), _defineProperty({}, \"\".concat(prefixCls, \"-blur\"), spinning));\n        return /*#__PURE__*/React.createElement(\"div\", _extends({}, divProps, {\n          className: classNames(\"\".concat(prefixCls, \"-nested-loading\"), wrapperClassName)\n        }), spinning && /*#__PURE__*/React.createElement(\"div\", {\n          key: \"loading\"\n        }, spinElement), /*#__PURE__*/React.createElement(\"div\", {\n          className: containerClassName,\n          key: \"container\"\n        }, _this.props.children));\n      }\n\n      return spinElement;\n    };\n\n    var spinning = props.spinning,\n        delay = props.delay;\n    var shouldBeDelayed = shouldDelay(spinning, delay);\n    _this.state = {\n      spinning: spinning && !shouldBeDelayed\n    };\n    _this.originalUpdateSpinning = _this.updateSpinning;\n\n    _this.debouncifyUpdateSpinning(props);\n\n    return _this;\n  }\n\n  _createClass(Spin, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateSpinning();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.debouncifyUpdateSpinning();\n      this.updateSpinning();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.cancelExistingSpin();\n    }\n  }, {\n    key: \"cancelExistingSpin\",\n    value: function cancelExistingSpin() {\n      var updateSpinning = this.updateSpinning;\n\n      if (updateSpinning && updateSpinning.cancel) {\n        updateSpinning.cancel();\n      }\n    }\n  }, {\n    key: \"isNestedPattern\",\n    value: function isNestedPattern() {\n      return !!(this.props && typeof this.props.children !== 'undefined');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(ConfigConsumer, null, this.renderSpin);\n    }\n  }], [{\n    key: \"setDefaultIndicator\",\n    value: function setDefaultIndicator(indicator) {\n      defaultIndicator = indicator;\n    }\n  }]);\n\n  return Spin;\n}(React.Component);\n\nSpin.defaultProps = {\n  spinning: true,\n  size: 'default',\n  wrapperClassName: ''\n};\nexport default Spin;","import styled from 'styled-components';\nexport const ToplistWrapper = styled.div`\n  margin: 0px auto;\n  padding: 20px 15px;\n  border-left: 1px solid #d3d3d3;\n  border-right: 1px solid #d3d3d3;\n  .toplist {\n    display: flex;\n    width: 100%;\n    flex-wrap: wrap;\n    & > li {\n      width: 50%;\n      margin: 0 0 25px 0;\n      display: flex;\n      .img-container {\n        width: 170px;\n        height: 170px;\n        overflow: hidden;\n        img {\n          width: 100%;\n          border-radius: 5px;\n        }\n      }\n      .toplist-song-list {\n        margin: 0 0 0 20px;\n        width: 60%;\n        & > li {\n          padding: 7px 10px;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          &:nth-child(odd) {\n            background-color: #f9f9f9;\n          }\n          &:nth-child(-n + 3) {\n            .song-name-container {\n              .index {\n                color: #ec4141;\n              }\n            }\n          }\n          .song-name-container {\n            display: flex;\n            align-items: center;\n            .index {\n              font-size: 12px;\n              color: #9b9b9b;\n              padding: 0 10px;\n            }\n          }\n          .up {\n            display: flex;\n            align-items: center;\n            min-width: 50px;\n            & > span {\n              color: #9b9b9b;\n              font-size: 12px;\n            }\n            i {\n              color: #ec4141;\n            }\n          }\n          .song-name-vip-mv {\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n            .song-name {\n              margin: 0 5px 0 0;\n              max-width: 130px;\n              font-size: 13px;\n              color: #363636;\n              &.top {\n                max-width: 100px;\n              }\n            }\n          }\n          .artist-name {\n            font-size: 12px;\n            color: #9b9b9b;\n            &:hover {\n              color: #636363;\n              cursor: pointer;\n            }\n          }\n        }\n      }\n    }\n    .empty-toplist-outer {\n      width: 100%;\n      .empty-toplist {\n        padding: 120px 0;\n        width: 100%;\n        box-sizing: border-box;\n        display: flex;\n        justify-content: center;\n      }\n    }\n  }\n`;\n","import styled from 'styled-components';\nexport const HotToplistWrapper = styled.div`\n  .title {\n    font-size: 16px;\n    font-weight: bolder;\n  }\n  .hot-toplist {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    width: 100%;\n    & > li {\n      width: 50%;\n      margin: 0 0 25px 0;\n      display: flex;\n      .img-container {\n        width: 170px;\n        height: 170px;\n        overflow: hidden;\n        img {\n          width: 100%;\n          border-radius: 5px;\n        }\n      }\n      .toplist-song-list {\n        margin: 0 0 0 20px;\n        width: 60%;\n        & > li {\n          padding: 7px 10px;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          &:nth-child(odd) {\n            background-color: #f9f9f9;\n          }\n          &:nth-child(-n + 3) {\n            .song-name-container {\n              .index {\n                color: #ec4141;\n              }\n            }\n          }\n          .song-name-container {\n            display: flex;\n            align-items: center;\n            .index {\n              font-size: 12px;\n              color: #9b9b9b;\n              padding: 0 10px;\n            }\n            .song-name-vip {\n              color: #363636;\n              cursor: pointer;\n              display: flex;\n              align-items: center;\n              .song-name {\n                margin: 0 5px 0 0;\n                font-size: 13px;\n                max-width: 150px;\n              }\n            }\n          }\n          .up {\n            display: flex;\n            align-items: center;\n            min-width: 50px;\n            & > span {\n              color: #9b9b9b;\n              font-size: 12px;\n            }\n            i {\n              color: #ec4141;\n            }\n          }\n\n          .artist-name {\n            font-size: 12px;\n            color: #9b9b9b;\n            &:hover {\n              color: #636363;\n              cursor: pointer;\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n","import React, { memo, FC, ReactElement, useEffect, useState } from 'react';\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\nimport { HotToplistWrapper } from './style';\nimport { getHotToplist, getToplistDetail } from '../../../../../../network/toplist/toplist';\nimport { IToplist } from '../../../../../../constant/toplist';\nimport { ISong } from '../../../../../../constant/song';\nimport { changeSongDetailAction } from '../../../../../../components/content/playCoin/store/actionCreators';\nimport { useDispatch } from 'react-redux';\nimport VipMv from '../../../../../../components/common/vip-mv';\nimport { IArtist } from '../../../../../../constant/artist';\nimport { Image, Skeleton } from 'antd';\nimport placeholder from '../../../../../../assets/img/holder/placeholder.png';\ninterface IDetail extends IToplist {\n  songs: ISong[];\n}\n\nconst HotToplist: FC<RouteComponentProps> = (props): ReactElement => {\n  const [hotToplist, setToplist] = useState<IToplist[]>([]);\n  const [detail, setDetail] = useState<IDetail[]>([]);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    getHotToplist().then((data: any) => {\n      setToplist(data);\n      const promise = hotToplist.map((item, index) => {\n        return getToplistDetail(item.id);\n      });\n      if (promise.length) {\n        Promise.all(promise).then((data: any) => {\n          if (data.length) {\n            setDetail(data);\n            console.log(data);\n          }\n        });\n      }\n    });\n  }, [hotToplist.length]);\n  const toplistRouter = (item: IToplist, index: number): void => {\n    props.history.push({\n      pathname: '/Home/toplistDetail',\n      state: {\n        id: item.id\n      }\n    });\n  };\n  const playSong = (item: ISong) => {\n    dispatch(changeSongDetailAction(item.id));\n  };\n  const videoRouter = (item: { id: string; name: string }) => {\n    props.history.push({\n      pathname: '/Home/videoDetail',\n      state: {\n        id: item.id\n      }\n    });\n  };\n  const artistRouter = (item: IArtist) => {\n    if (item) {\n      props.history.push({\n        pathname: '/Home/artistDetail',\n        state: {\n          id: item.id\n        }\n      });\n    }\n  };\n  return (\n    <HotToplistWrapper>\n      <p className=\"title\">热门榜单</p>\n      <ul className=\"hot-toplist\">\n        {hotToplist.length !== 0 &&\n          hotToplist.map((item, index) => {\n            return (\n              <li key={item.id}>\n                <div className=\"img-container\" onClick={(e) => toplistRouter(item, index)}>\n                  <Image\n                    width={170}\n                    height={170}\n                    src={item.coverUrl}\n                    preview={false}\n                    placeholder={<Image preview={false} src={placeholder} width={170} height={170} />}\n                    onClick={(e) => toplistRouter(item, index)}\n                  />\n                </div>\n                <ul className=\"toplist-song-list\">\n                  {\n                    <Skeleton\n                      active={true}\n                      loading={\n                        !detail ||\n                        detail.length === 0 ||\n                        !detail[index] ||\n                        !detail[index].songs ||\n                        detail[index].songs.length === 0\n                      }\n                    />\n                  }\n                  {detail[index] &&\n                    detail[index].songs &&\n                    detail[index].songs.length !== 0 &&\n                    detail[index].songs.slice(0, 5).map((it, index) => {\n                      return (\n                        <li key={it.id}>\n                          <div className=\"song-name-container\">\n                            <div className=\"index\">{index + 1}</div>\n                            <div className=\"song-name-vip\" onClick={(e) => playSong(it)}>\n                              <div className=\"song-name text-nowrap\" title={it.name}>\n                                {it.name}\n                              </div>\n                              <VipMv\n                                isShowVip={it.vip === 1}\n                                isShowMv={it.video}\n                                onClick={() => videoRouter(it.video)}\n                              />\n                            </div>\n                          </div>\n                          <div className=\"artist-name\" onClick={(e) => artistRouter(it.artist)}>\n                            {it.artist?.name}\n                          </div>\n                        </li>\n                      );\n                    })}\n                </ul>\n              </li>\n            );\n          })}\n      </ul>\n    </HotToplistWrapper>\n  );\n};\nexport default withRouter(memo(HotToplist));\n","import React, { memo, FC, ReactElement, useEffect, useState } from 'react';\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { Skeleton, Image, Spin } from 'antd';\nimport { ToplistWrapper } from './style';\nimport { getOfficial, getToplistDetail } from '../../../../network/toplist/toplist';\nimport { IToplist } from '../../../../constant/toplist';\nimport { ISong } from '../../../../constant/song';\nimport HotToplist from './childCpn/hotToplist';\nimport { changeSongDetailAction } from '../../../../components/content/playCoin/store/actionCreators';\nimport placeholder from '../../../../assets/img/holder/placeholder.png';\nimport VipMv from '../../../../components/common/vip-mv';\nimport { IArtist } from '../../../../constant/artist';\n\ninterface IDetail extends IToplist {\n  songs: ISong[];\n}\nconst Toplist: FC<RouteComponentProps> = (props): ReactElement => {\n  const [official, setOfficial] = useState<IToplist[]>([]);\n  const [detail, setDetail] = useState<IDetail[]>([]);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    getOfficial<IToplist[]>().then((data) => {\n      setOfficial(data);\n      const promise = official.map((item, index) => {\n        return getToplistDetail<IDetail>(item.id);\n      });\n      if (promise.length) {\n        Promise.all(promise).then((data) => {\n          if (data.length) {\n            setDetail(data);\n          }\n        });\n      }\n    });\n  }, [official.length]);\n  const toplistRouter = (item: IToplist, index: number): void => {\n    props.history.push({\n      pathname: '/Home/toplistDetail',\n      state: {\n        id: item.id,\n        name: item.name\n      }\n    });\n  };\n  const playSong = (item: ISong) => {\n    dispatch(changeSongDetailAction(item.id));\n  };\n  const videoRouter = (item: { id: string; name: string }) => {\n    props.history.push({\n      pathname: '/Home/videoDetail',\n      state: {\n        id: item.id\n      }\n    });\n  };\n  const artistRouter = (item: IArtist) => {\n    if (item) {\n      props.history.push({\n        pathname: '/Home/artistDetail',\n        state: {\n          id: item.id\n        }\n      });\n    }\n  };\n  return (\n    <ToplistWrapper className=\"center-content\">\n      <ul className=\"toplist\">\n        {official &&\n          official.length !== 0 &&\n          official.map((item, index) => {\n            return (\n              <li key={item.id}>\n                <div className=\"img-container\" onClick={(e) => toplistRouter(item, index)}>\n                  <Image\n                    width={170}\n                    height={170}\n                    src={item.coverUrl}\n                    preview={false}\n                    placeholder={<Image preview={false} src={placeholder} width={170} height={170} />}\n                    onClick={(e) => toplistRouter(item, index)}\n                  />\n                </div>\n                <ul className=\"toplist-song-list\">\n                  {\n                    <Skeleton\n                      active={true}\n                      loading={\n                        !detail ||\n                        detail.length === 0 ||\n                        !detail[index] ||\n                        !detail[index].songs ||\n                        detail[index].songs.length === 0\n                      }\n                    />\n                  }\n                  {detail[index] &&\n                    detail[index].songs &&\n                    detail[index].songs.length !== 0 &&\n                    detail[index].songs.slice(0, 5).map((it, index) => {\n                      return (\n                        <li key={it.id}>\n                          <div className=\"song-name-container\">\n                            <div className=\"index\">{index + 1}</div>\n                            {item.name === '飙升榜' && (\n                              <div className=\"up\">\n                                <i className=\"iconfont icon-data-arrow-up\"> </i>\n                                <span>{it.diff}</span>\n                              </div>\n                            )}\n                            <div className=\"song-name-vip-mv\" onClick={(e) => playSong(it)}>\n                              <div\n                                className={`song-name text-nowrap ${item.name === '飙升榜' ? 'top' : ''}`}\n                                title={it.name}\n                              >\n                                {it.name}\n                              </div>\n                              <VipMv\n                                isShowVip={it.vip === 1}\n                                isShowMv={it.video}\n                                onClick={() => videoRouter(it.video)}\n                              />\n                            </div>\n                          </div>\n                          <div className=\"artist-name\" onClick={(e) => artistRouter(it.artist)}>\n                            {it.artist?.name}\n                          </div>\n                        </li>\n                      );\n                    })}\n                </ul>\n              </li>\n            );\n          })}\n        {official && official.length < 1 && (\n          <div className=\"empty-toplist-outer\">\n            <div className=\"empty-toplist\">\n              <Spin size={'large'} tip={'音乐加载中...'} spinning={official.length < 1} />\n            </div>\n          </div>\n        )}\n      </ul>\n      <HotToplist />\n    </ToplistWrapper>\n  );\n};\nexport default withRouter(memo(Toplist));\n","/*\n@Name guobin\n@Description gb-music\n@author guobin\n@date 2021/9/21\n*/\nimport axios, { AxiosInstance, AxiosRequestConfig } from 'axios';\nimport { HOST_NAME } from '../config';\nimport store from '../store';\nimport { changeUserMsg, logoutAction } from '../views/Login/store/actionCreators';\nimport { createBrowserHistory } from 'history';\nfunction request<T>(config: AxiosRequestConfig) {\n  const instance: AxiosInstance = axios.create({\n    baseURL: HOST_NAME,\n    timeout: 15000\n  });\n  instance.interceptors.request.use(\n    (config) => {\n      return config;\n    },\n    (err) => {\n      console.log(err);\n      return err;\n    }\n  );\n  instance.interceptors.response.use(\n    (res) => {\n      return res.data;\n    },\n    (err) => {\n      if (err.response) {\n        const { status, data } = err.response;\n        if (status * 1 === 403 && data.message === '请登录') {\n          // @ts-ignore\n          store.dispatch(logoutAction());\n          store.dispatch(\n            changeUserMsg({\n              token: '',\n              userName: '',\n              userId: '',\n              avatarUrl: '',\n              createTime: '',\n              updateTime: '',\n              manage: -1,\n              auth: -1\n            })\n          );\n          createBrowserHistory().push({\n            pathname: '/Login'\n          });\n        } else {\n          throw err;\n        }\n      }\n    }\n  );\n  return instance.request<any, T>(config);\n}\nexport default request;\n"],"sourceRoot":""}