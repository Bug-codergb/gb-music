(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d52d1cda"],{5073:function(t,n,e){"use strict";e("d22f")},"642b":function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"tab-control"},[e("ul",{staticClass:"list"},t._l(t.list,(function(n,a){return e("li",{key:n,class:{active:t.currentIndex===a},on:{click:function(e){return t.liClick(n,a)}}},[e("span",[t._v(t._s(n))])])})),0),e("ul",t._l(t.list,(function(n,a){return t.currentIndex===a?e("li",{key:n},[e("div",[t._t(a)],2)]):t._e()})),0)])},r=[],i={name:"TabControl",props:{list:{type:Array,default:function(){return[]}}},data:function(){return{currentIndex:0}},methods:{liClick:function(t,n){this.currentIndex=n}}},s=i,u=(e("5073"),e("2877")),o=Object(u["a"])(s,a,r,!1,null,"7e19d0a9",null);n["a"]=o.exports},6901:function(t,n,e){"use strict";e("721a")},"721a":function(t,n,e){},"78ae":function(t,n,e){},"7dae":function(t,n,e){"use strict";e("78ae")},"7e8b":function(t,n,e){"use strict";e.d(n,"i",(function(){return i})),e.d(n,"a",(function(){return s})),e.d(n,"r",(function(){return u})),e.d(n,"g",(function(){return o})),e.d(n,"n",(function(){return c})),e.d(n,"d",(function(){return d})),e.d(n,"m",(function(){return l})),e.d(n,"p",(function(){return f})),e.d(n,"o",(function(){return m})),e.d(n,"k",(function(){return h})),e.d(n,"h",(function(){return p})),e.d(n,"l",(function(){return v})),e.d(n,"b",(function(){return g})),e.d(n,"c",(function(){return b})),e.d(n,"q",(function(){return _})),e.d(n,"j",(function(){return j})),e.d(n,"e",(function(){return O})),e.d(n,"f",(function(){return y}));var a=e("1bab"),r=e("4360");function i(){return Object(a["a"])({url:"/artist/cate"})}function s(t,n,e){return Object(a["a"])({url:"/artist",method:"post",data:{name:t,desc:n,area:e},headers:{authorization:r["a"].state.userMsg.token}})}function u(t,n){return Object(a["a"])({url:"/artist/upload/avatar",params:{arId:t},method:"post",data:n,headers:{"Content-type":"multipart/form-data",authorization:r["a"].state.userMsg.token}})}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;return Object(a["a"])({url:"/artist",params:{offset:t,limit:n}})}function c(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"全部",e=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:8;return Object(a["a"])({url:"/artist/cate/detail",params:{area:t,keyword:e,letter:n,offset:r,limit:i}})}function d(t){return Object(a["a"])({url:"/artist/delete",method:"post",data:{id:t},headers:{authorization:r["a"].state.userMsg.token}})}function l(){return Object(a["a"])({url:"/artist/type"})}function f(t,n){return Object(a["a"])({url:"/artist/type/set",method:"post",data:{arId:t,type:n}})}function m(t,n){return Object(a["a"])({url:"/artist/cate/set",method:"post",data:{arId:t,cateId:n},headers:{authorization:r["a"].state.userMsg.token}})}function h(t){return Object(a["a"])({url:"/artist/detail",params:{id:t}})}function p(t,n,e){return Object(a["a"])({url:"/artist/album",params:{arId:t,offset:n,limit:e}})}function v(t,n,e){return Object(a["a"])({url:"/artist/song",params:{id:t,offset:n,limit:e}})}function g(t){return Object(a["a"])({url:"/artist/cate",method:"post",data:{name:t},headers:{authorization:r["a"].state.userMsg.token}})}function b(t){return Object(a["a"])({url:"/artist/type",method:"post",data:{name:t},headers:{authorization:r["a"].state.userMsg.token}})}function _(t,n,e){return Object(a["a"])({url:"/artist/update",method:"post",data:{arId:t,name:n,desc:e},headers:{authorization:r["a"].state.userMsg.token}})}function j(){return Object(a["a"])({url:"/artist/data",method:"get",headers:{authorization:r["a"].state.userMsg.token}})}function O(t){return Object(a["a"])({url:"/artist/cate/delete",method:"post",data:{cateId:t},headers:{authorization:r["a"].state.userMsg.token}})}function y(t){return Object(a["a"])({url:"/artist/type/delete",method:"post",data:{id:t},headers:{authorization:r["a"].state.userMsg.token}})}},bf78:function(t,n,e){"use strict";e("c1c1")},c1c1:function(t,n,e){},ca85:function(t,n,e){"use strict";e.d(n,"a",(function(){return i})),e.d(n,"i",(function(){return s})),e.d(n,"c",(function(){return u})),e.d(n,"h",(function(){return o})),e.d(n,"g",(function(){return c})),e.d(n,"b",(function(){return d})),e.d(n,"d",(function(){return l})),e.d(n,"e",(function(){return f})),e.d(n,"f",(function(){return m}));var a=e("1bab"),r=e("4360");function i(t,n,e,i,s){return Object(a["a"])({url:"/song",data:{name:t,arId:n,alId:e,publishTime:i,alia:s},method:"post",headers:{authorization:r["a"].state.userMsg.token}})}function s(t,n){return Object(a["a"])({url:"/song/upload",params:{songId:n},data:t,method:"post",headers:{authorization:r["a"].state.userMsg.token,"Content-type":"multipart/form-data"}})}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,e=arguments.length>2?arguments[2]:void 0;return Object(a["a"])({url:"/song/all",params:{offset:t,limit:n,keyword:e}})}function o(t,n){return Object(a["a"])({url:"/song/lyric",method:"post",data:{id:t,lyric:n},headers:{authorization:r["a"].state.userMsg.token}})}function c(t,n){return Object(a["a"])({url:"/song/vip/update",method:"post",data:{vip:n,id:t},headers:{authorization:r["a"].state.userMsg.token}})}function d(t){return Object(a["a"])({url:"/song/delete",method:"post",data:{id:t},headers:{authorization:r["a"].state.userMsg.token}})}function l(t){return Object(a["a"])({url:"/artist/mv",params:{id:t}})}function f(t){return Object(a["a"])({url:"/song/lyric",params:{id:t}})}function m(t,n,e,i,s,u){return Object(a["a"])({url:"/song/update",method:"post",data:{id:t,name:n,alia:e,publishTime:i,vip:s,lyric:u},headers:{authorization:r["a"].state.userMsg.token}})}},d22f:function(t,n,e){},e82f:function(t,n,e){},e991:function(t,n,e){"use strict";e("e82f")},ec5e:function(t,n,e){"use strict";e.r(n);var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"artist-detail"},[e("div",{staticClass:"head"},[e("div",{staticClass:"img-container"},[e("img",{attrs:{src:t.artistDetail.avatarUrl,alt:t.artistDetail.name}})]),e("div",{staticClass:"right-msg"},[e("div",{staticClass:"artist-name"},[t._v(" "+t._s(t.artistDetail.name)+" ")]),e("div",{staticClass:"desc"},[e("span",[t._v("简介:")]),e("span",[t._v(t._s(t.artistDetail.description))])]),e("div",{staticClass:"cate"},[e("span",[t._v("分类：")]),e("span",[t._v(t._s(t.artistDetail.category.name))])])])]),e("div",{staticClass:"body-content"},[e("TabControl",{attrs:{list:["ta的歌曲","ta的专辑","ta的mv"]},scopedSlots:t._u([{key:"0",fn:function(){return[e("SongList",{attrs:{id:t.id}})]},proxy:!0},{key:"1",fn:function(){return[e("AlbumList",{attrs:{id:t.id}})]},proxy:!0},{key:"2",fn:function(){return[e("MvList",{attrs:{id:t.id}})]},proxy:!0}])})],1)])},r=[],i=e("7e8b"),s=e("642b"),u=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"album-list"},[e("ul",t._l(t.albums,(function(n,a){return e("li",{key:n.id},[e("div",{staticClass:"img-container"},[e("img",{attrs:{src:n.coverUrl,alt:n.name}})]),e("div",{staticClass:"album-name"},[t._v(" "+t._s(n.name)+" ")])])})),0),0===t.albums.length?e("div",[e("el-empty",{attrs:{description:"暂无专辑"}})],1):t._e()])},o=[],c={name:"AlbumList",data:function(){return{albums:[],count:0}},props:{id:{type:String,default:""}},created:function(){var t=this;Object(i["h"])(this.id,0,10).then((function(n){var e=n.count,a=n.albums;t.count=e,t.albums=a}))}},d=c,l=(e("7dae"),e("2877")),f=Object(l["a"])(d,u,o,!1,null,"0e07205e",null),m=f.exports,h=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"song-list"},[e("ul",t._l(t.songs,(function(n,a){return e("li",{key:n.id},[e("div",{staticClass:"index"},[t._v(t._s((a+1).toString().padStart(2,"0")))]),e("div",{staticClass:"name text-nowrap"},[t._v(t._s(n.name))]),e("div",{staticClass:"album-name text-nowrap",on:{click:function(e){return t.albumRouter(n)}}},[t._v(t._s(n.album.name))]),e("div",{staticClass:"dt"},[t._v(t._s(t.formatDate(n.duration,"mm:ss")))]),e("label",[e("select",{staticClass:"is-vip",on:{change:function(e){return t.vipChange(e,n)}}},[e("option",{domProps:{value:1,selected:1===n.vip}},[t._v("会员")]),e("option",{domProps:{value:0,selected:0===n.vip}},[t._v("非会员")])])]),e("div",{staticClass:"del",on:{click:function(e){return t.delSong(n,a)}}},[t._v("删除")])])})),0),t.count>10?e("div",{staticClass:"page"},[e("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.count,"page-size":10},on:{"current-change":t.pageChange}})],1):t._e(),0===t.songs.length?e("div",[e("el-empty",{attrs:{description:"暂无歌曲"}})],1):t._e()])},p=[],v=e("6be8"),g=e("ca85"),b={name:"SongList",data:function(){return{count:0,songs:[]}},props:{id:{type:String,default:""}},created:function(){var t=this;Object(i["l"])(this.id,0,10).then((function(n){t.count=n.count,t.songs=n.songs}))},methods:{formatDate:function(t,n){return Object(v["a"])(t,n)},vipChange:function(t,n){var e=this;Object(g["g"])(n.id,t.currentTarget.value).then((function(t){e.$toast.show("更新成功",1500)}))},pageChange:function(t){var n=this;Object(i["l"])(this.id,10*(t-1),10).then((function(t){n.count=t.count,n.songs=t.songs}))},delSong:function(t,n){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(a){Object(g["b"])(t.id).then((function(t){console.log(t),e.$delete(e.songs,n)}))})).catch((function(t){}))},albumRouter:function(t){this.$router.push({path:"/Home/album/detail",query:{albumId:t.album.id}})}}},_=b,j=(e("e991"),Object(l["a"])(_,h,p,!1,null,"5283f942",null)),O=j.exports,y=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"mv-list"},[e("ul",t._l(t.mv,(function(n,a){return e("li",[e("div",{staticClass:"img-container"},[e("img",{attrs:{src:n.coverUrl,alt:n.name}})]),e("div",{staticClass:"name"},[t._v(t._s(n.name))])])})),0),0===t.mv.length?e("div",[e("el-empty",{attrs:{description:"暂无MV"}})],1):t._e()])},k=[],C={name:"MvList",data:function(){return{mv:[]}},props:{id:{type:String,default:""}},created:function(){var t=this;Object(g["d"])(this.id).then((function(n){t.mv=n}))}},M=C,x=(e("bf78"),Object(l["a"])(M,y,k,!1,null,"3cc18fc0",null)),z=x.exports,I={name:"ArtistDetail",components:{MvList:z,SongList:O,AlbumList:m,TabControl:s["a"]},data:function(){return{id:"",artistDetail:{}}},created:function(){var t=this;this.id=this.$route.query.id,Object(i["k"])(this.id).then((function(n){t.artistDetail=n,console.log(t.artistDetail)}))}},w=I,D=(e("6901"),Object(l["a"])(w,a,r,!1,null,"33fbf8d1",null));n["default"]=D.exports}}]);
//# sourceMappingURL=chunk-d52d1cda.5553642f.js.map